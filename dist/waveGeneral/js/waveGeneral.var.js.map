{"version":3,"sources":["webpack:///webpack/bootstrap 9a4dd1178ef2d2118f3e","webpack:///./src/app.js","webpack:///./~/lodash.assign/index.js","webpack:///./~/event-emitter/index.js","webpack:///./~/d/index.js","webpack:///./~/es5-ext/object/assign/index.js","webpack:///./~/es5-ext/object/assign/is-implemented.js","webpack:///./~/es5-ext/object/assign/shim.js","webpack:///./~/es5-ext/object/keys/index.js","webpack:///./~/es5-ext/object/keys/is-implemented.js","webpack:///./~/es5-ext/object/keys/shim.js","webpack:///./~/es5-ext/object/is-value.js","webpack:///./~/es5-ext/function/noop.js","webpack:///./~/es5-ext/object/valid-value.js","webpack:///./~/es5-ext/object/normalize-options.js","webpack:///./~/es5-ext/object/is-callable.js","webpack:///./~/es5-ext/string/#/contains/index.js","webpack:///./~/es5-ext/string/#/contains/is-implemented.js","webpack:///./~/es5-ext/string/#/contains/shim.js","webpack:///./~/es5-ext/object/valid-callable.js","webpack:///./src/Playlist.js","webpack:///./~/lodash.defaults/index.js","webpack:///./~/virtual-dom/create-element.js","webpack:///./~/virtual-dom/vdom/create-element.js","webpack:///./~/global/document.js","webpack:///min-document (ignored)","webpack:///./~/virtual-dom/vdom/apply-properties.js","webpack:///./~/is-object/index.js","webpack:///./~/virtual-dom/vnode/is-vhook.js","webpack:///./~/virtual-dom/vnode/is-vnode.js","webpack:///./~/virtual-dom/vnode/version.js","webpack:///./~/virtual-dom/vnode/is-vtext.js","webpack:///./~/virtual-dom/vnode/is-widget.js","webpack:///./~/virtual-dom/vnode/handle-thunk.js","webpack:///./~/virtual-dom/vnode/is-thunk.js","webpack:///./src/render/TimeScale.js","webpack:///./~/virtual-dom/h.js","webpack:///./~/virtual-dom/virtual-hyperscript/index.js","webpack:///./~/x-is-array/index.js","webpack:///./~/virtual-dom/vnode/vnode.js","webpack:///./~/virtual-dom/vnode/vtext.js","webpack:///./~/virtual-dom/virtual-hyperscript/parse-tag.js","webpack:///./~/browser-split/index.js","webpack:///./~/virtual-dom/virtual-hyperscript/hooks/soft-set-hook.js","webpack:///./~/virtual-dom/virtual-hyperscript/hooks/ev-hook.js","webpack:///./~/ev-store/index.js","webpack:///./~/individual/one-version.js","webpack:///./~/individual/index.js","webpack:///./src/utils/conversions.js","webpack:///./src/render/TimeScaleHook.js","webpack:///./src/render/Track.js","webpack:///./~/webaudio-peaks/index.js","webpack:///./src/render/CanvasHook.js","webpack:///./src/Playout.js","webpack:///./src/render/PlayedHook.js","webpack:///./src/render/FragHook.js","webpack:///./src/render/FormHook.js","webpack:///./src/track/controller/FragController.js","webpack:///./src/track/controller/FormController.js","webpack:///./src/track/controller/OtherController.js","webpack:///./src/track/loader/LoaderFactory.js","webpack:///./src/track/loader/XHRLoader.js","webpack:///./src/track/loader/Loader.js"],"names":["init","options","ee","container","undefined","Error","window","OfflineAudioContext","webkitOfflineAudioContext","AudioContext","webkitAudioContext","audioContext","defaults","ac","sampleRate","samplesPerPixel","controls","show","width","colors","waveOutlineColor","timeColor","fadeColor","waveHeight","zoomLevels","config","zoomIndex","indexOf","playlist","setSampleName","name","setDataInfo","markData","setDefault","setMarkInfo","markInfo","setSampleRate","setSamplesPerPixel","setAudioContext","setEventEmitter","setUpEventEmitter","setControlOptions","setWaveHeight","setColors","setZoomLevels","setZoomIndex","isAutomaticScroll","isContinuousPlay","linkedEndpoints","render","duration","scrollLeft","tracks","timer","cycle","allTime","loadFirst","startTime","stopTime","pauseTime","lastPlay","formInfo","typeArr","type","sort","title","option","fragDom","document","getElementById","canvasDom","info","bol","height","levels","index","zoom","forEach","track","calculatePeaks","controlOptions","localStorage","setItem","JSON","stringify","reduce","Math","max","getEndTime","length","frag","formController","setForminfo","fragController","fragHook","renderAdd","formHook","splice","setSelected","bindEvent","otherController","on","endTime","play","pause","start","end","changeFragHook","setFragHook","setClassName","deleteFragHook","formData","saveLocalStorage","self","setTimeout","console","log","onmousewheel","e","deltaY","preventDefault","emit","onkeydown","keyCode","isPlaying","isplay","currentTime","scheduleStop","Promise","all","playoutPromises","stopAnimation","requestAnimationFrame","step","stepStart","animationRequest","renderPlayed","steps","stop","cancelAnimationFrame","restartPlayFrom","startAnimation","push","schedulePlay","shouldPlay","masterGain","style","display","playbackReset","editor","then","bind","zoomStyle","zoomBol","setZoom","setSamples","trackList","promiseTrack","shift","loadPromises","map","trackInfo","loader","createLoader","src","load","audioBuffers","audioBuffer","cueIn","cuein","cueOut","cueout","selection","selected","peaks","mono","playout","setBuffer","setName","setCues","setWaveOutlineColor","setActiveTrack","setTimeSelection","setPeakData","setPlayout","concat","adjustDuration","controlWidth","setAllTime","timeScale","trackElements","seconds","played","timeTree","renderTimeScale","timeNode","innerHTML","appendChild","canvasTree","renderTrackSection","i","canvasNode","renderFrag","TimeScale","offset","marginLeft","timeinfo","marker","bigStep","smallStep","secondStep","resolution","keys","Object","parseInt","item","a","b","widthX","pixPerSec","pixOffset","scaleInfo","getScaleInfo","canvasInfo","timeMarkers","counter","pixIndex","floor","pix","attributes","formatTime","hook","milliseconds","s","m","samplesToSeconds","secondsToSamples","samplesToPixels","pixelsToSamples","pixelsToSeconds","secondsToPixels","samples","ceil","pixels","tickInfo","canvas","prop","prev","ctx","getContext","clearRect","x","scaleHeight","scaleY","fillRect","MAX_CANVAS_WIDTH","peakData","buffer","color","data","now","defaultOptions","isOffline","playoutSystem","offlinePlayout","sourcePromise","setUpSource","setVolumeGainLevel","setShouldPlay","setMasterGainLevel","when","setPeaks","canvasWidth","canvasLeft","fragDomWid","canvasHeight","channels","channelNum","channelChildren","totalWidth","currentWidth","min","canvasColor","bits","CanvasHook","len","cc","h2","maxValue","fillStyle","minPeak","maxPeak","drawFrame","abs","gain","destination","source","createBufferSource","resolve","onended","disconnect","fadeGain","volumeGain","shouldPlayGain","createGain","connect","level","value","bool","onseTime","playTime","whens","PlayedHook","oDiv0","oDiv1","oDiv2","oDiv3","allWidth","playedWid","left","FragHook","formArr","smallNav","state","extend","qualityState","dom","className","creatDom","nav","creatNav","domAll","domNav","FromHook","formDom","typeInfo","checkValue","inputDom","listDom","split","indexT","checked","check","checkboxDom","radioDom","selectDom","formItem","errorInfo","qualityType","errorType","renderRadio","errorsState","renderCheckbox","errorsMessage","renderInput","operationCase","errorValue","errorMes","qualityDom","formContent","qualityRender","typeItem","renderSelect","form","FragController","fragId","shortFrag","downPoint","hitPoint","changeFrag","addEventListener","stopPropagation","rightEvent","which","downRightEvent","downEvent","moveRightEvent","moveEvent","upRightEvent","upEventCreat","upEventPlay","target","getAttribute","clearClassName","getElementsByClassName","replace","getBoundingClientRect","mouseLeft","clientX","playWidth","parseFloat","pointSlected","right","Point","out","setUp","points","point1","point2","getMouseLeft","pointStart","upPoint","pointEnd","moveWidth","setShortFrag","getAttrName","checkedFrag","getHitPoint","movePoint","selectedDom","cursor","movementX","starts","ends","newPoint","isNaN","itemStart","itemEnd","FormController","getIndex","offsetParent","values","selectedIndex","checkboxList","getElementsByTagName","radioList","onmouseleave","addFormInfo","formSlected","formValue","getValue","group","OtherController","navList","next","pre","reject","xhr","XMLHttpRequest","open","responseType","send","decoderPromise","STATE_UNINITIALIZED","STATE_LOADING","STATE_DECODING","STATE_FINISHED","audioRequestState","percentComplete","setStateChange","lengthComputable","loaded","total","audioData","response","result","decodeAudioData","err"],"mappings":"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AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kDAAiD,eAAe;;AAEhE;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,QAAQ;AACnB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,MAAM;AACjB,YAAW,OAAO,WAAW;AAC7B,YAAW,SAAS;AACpB,cAAa,OAAO;AACpB;AACA;AACA,yBAAwB;;AAExB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,OAAO;AAClB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,EAAE;AACb,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,kBAAiB;AACjB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA,8BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,UAAU;AACrB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5nBA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAkB;;AAElB;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,cAAa,4BAA4B;AACzC;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa,OAAO;;AAEpB;AACA,cAAa,2BAA2B;AACxC;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,2BAA0B;;AAE1B;AACA;AACA;AACA;;;;;;;ACnIA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;;AAEA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA,UAAS;AACT;AACA;;;;;;;AC9DA;;AAEA;AACA;AACA;;;;;;;ACJA;;AAEA;AACA;AACA;AACA,SAAQ;AACR,eAAc,aAAa,GAAG,eAAe;AAC7C;AACA;;;;;;;ACRA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,aAAY,YAAY;AACxB;AACA;AACA;AACA;AACA;AACA;;;;;;;ACtBA;;AAEA;AACA;AACA;;;;;;;ACJA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;;;;;;;ACTA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;;;;;ACRA;;AAEA,4CAA+C;;AAE/C;AACA;AACA;;;;;;;ACNA;;AAEA;AACA;;;;;;;ACHA;;AAEA;;AAEA;AACA;AACA;AACA;;;;;;;ACPA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;A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b,YAAW,QAAQ;AACnB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,EAAE;AACb,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,cAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,MAAM;AACjB,YAAW,OAAO,WAAW;AAC7B,YAAW,SAAS;AACpB,cAAa,OAAO;AACpB;AACA;AACA,yBAAwB;;AAExB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,OAAO;AAClB,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,EAAE;AACb,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,kBAAiB;AACjB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA,8BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,UAAU;AACrB,YAAW,SAAS;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS,GAAG,SAAS,GAAG,SAAS;AAC9C,WAAU;AACV;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,UAAU;AACrB,cAAa,OAAO;AACpB;AACA;AACA;AACA,gBAAe,SAAS,GAAG,SAAS,GAAG,SAAS;AAChD,WAAU;AACV;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3pBA;;AAEA;;;;;;;ACFA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,oBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;AC7CA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,EAAC;AACD;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;AChBA,gB;;;;;;ACAA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;AACb;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;;;;;;;AChGA;;AAEA;AACA;AACA;;;;;;;ACJA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;ACNA;;AAEA;;AAEA;AACA;AACA;;;;;;;ACNA;;;;;;;ACAA;;AAEA;;AAEA;AACA;AACA;;;;;;;ACNA;;AAEA;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;ACvCA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;ACJA;;;;AAE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ACA,MAAK;AACL;AACA;AACA;;;;;;;ACxIA;AACA;;AAEA;;AAEA;AACA;AACA;;;;;;;ACPA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAmB,WAAW;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;ACvEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;ACTA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,gBAAe,qBAAqB;AACpC;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACrDA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,cAAc;AACzB,YAAW,OAAO;AAClB,cAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAqD;AACrD;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,0BAA0B;AACrD;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;A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","file":"waveGeneral.var.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/waveGeneral/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9a4dd1178ef2d2118f3e","import _assign from 'lodash.assign';\r\nimport EventEmitter from 'event-emitter';\r\nimport Playlist from './Playlist';\r\n\r\n\r\nexport function init(options = {}, ee = EventEmitter()) {\r\n  if (options.container === undefined) {\r\n    throw new Error('DOM element container must be given.');\r\n  }\r\n\r\n  window.OfflineAudioContext = window.OfflineAudioContext || window.webkitOfflineAudioContext;\r\n  window.AudioContext = window.AudioContext || window.webkitAudioContext;\r\n\r\n  const audioContext = new window.AudioContext();\r\n\r\n  const defaults = {\r\n    ac: audioContext,\r\n    sampleRate: audioContext.sampleRate,\r\n    samplesPerPixel: 128,\r\n    controls: {\r\n      show: false,\r\n      width: 150,\r\n    },\r\n    colors: {\r\n      waveOutlineColor: 'white',\r\n      timeColor: 'grey',\r\n      fadeColor: 'black',\r\n    },\r\n    waveHeight: 256,\r\n    zoomLevels: [128, 256, 512, 1024, 2048, 4096, 8192, 16384],\r\n  };\r\n\r\n  const config = _assign(defaults, options);\r\n  const zoomIndex = config.zoomLevels.indexOf(config.samplesPerPixel);\r\n\r\n  if (zoomIndex === -1) {\r\n    throw new Error('initial samplesPerPixel must be included in array zoomLevels');\r\n  }\r\n  const playlist = new Playlist();\r\n  playlist.setSampleName(config.name);\r\n  playlist.setDataInfo(config.markData);\r\n  playlist.setDefault(config.markData);\r\n  playlist.setMarkInfo(config.markInfo);\r\n  playlist.setDataInfo();\r\n  playlist.setSampleRate(config.sampleRate);\r\n  playlist.setSamplesPerPixel(config.samplesPerPixel);\r\n  playlist.setAudioContext(config.ac);\r\n  playlist.setEventEmitter(ee);\r\n  playlist.setUpEventEmitter();                       // 初始化音频通用方法\r\n  playlist.setControlOptions(config.controls);        // 宽度以及show设置\r\n  playlist.setWaveHeight(config.waveHeight);\r\n  playlist.setColors(config.colors);\r\n  playlist.setZoomLevels(config.zoomLevels);\r\n  playlist.setZoomIndex(zoomIndex);\r\n  playlist.isAutomaticScroll = config.isAutomaticScroll;\r\n  playlist.isContinuousPlay = config.isContinuousPlay;\r\n  playlist.linkedEndpoints = config.linkedEndpoints;\r\n\r\n  playlist.render();\r\n  return playlist;\r\n}\r\n\r\nexport default function (options = {}, ee = EventEmitter()) {\r\n  return init(options, ee);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object),\n    nativeMax = Math.max;\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assign({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = assign;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash.assign/index.js\n// module id = 1\n// module chunks = 0","'use strict';\n\nvar d        = require('d')\n  , callable = require('es5-ext/object/valid-callable')\n\n  , apply = Function.prototype.apply, call = Function.prototype.call\n  , create = Object.create, defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , descriptor = { configurable: true, enumerable: false, writable: true }\n\n  , on, once, off, emit, methods, descriptors, base;\n\non = function (type, listener) {\n\tvar data;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) {\n\t\tdata = descriptor.value = create(null);\n\t\tdefineProperty(this, '__ee__', descriptor);\n\t\tdescriptor.value = null;\n\t} else {\n\t\tdata = this.__ee__;\n\t}\n\tif (!data[type]) data[type] = listener;\n\telse if (typeof data[type] === 'object') data[type].push(listener);\n\telse data[type] = [data[type], listener];\n\n\treturn this;\n};\n\nonce = function (type, listener) {\n\tvar once, self;\n\n\tcallable(listener);\n\tself = this;\n\ton.call(this, type, once = function () {\n\t\toff.call(self, type, once);\n\t\tapply.call(listener, this, arguments);\n\t});\n\n\tonce.__eeOnceListener__ = listener;\n\treturn this;\n};\n\noff = function (type, listener) {\n\tvar data, listeners, candidate, i;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return this;\n\tdata = this.__ee__;\n\tif (!data[type]) return this;\n\tlisteners = data[type];\n\n\tif (typeof listeners === 'object') {\n\t\tfor (i = 0; (candidate = listeners[i]); ++i) {\n\t\t\tif ((candidate === listener) ||\n\t\t\t\t\t(candidate.__eeOnceListener__ === listener)) {\n\t\t\t\tif (listeners.length === 2) data[type] = listeners[i ? 0 : 1];\n\t\t\t\telse listeners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ((listeners === listener) ||\n\t\t\t\t(listeners.__eeOnceListener__ === listener)) {\n\t\t\tdelete data[type];\n\t\t}\n\t}\n\n\treturn this;\n};\n\nemit = function (type) {\n\tvar i, l, listener, listeners, args;\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return;\n\tlisteners = this.__ee__[type];\n\tif (!listeners) return;\n\n\tif (typeof listeners === 'object') {\n\t\tl = arguments.length;\n\t\targs = new Array(l - 1);\n\t\tfor (i = 1; i < l; ++i) args[i - 1] = arguments[i];\n\n\t\tlisteners = listeners.slice();\n\t\tfor (i = 0; (listener = listeners[i]); ++i) {\n\t\t\tapply.call(listener, this, args);\n\t\t}\n\t} else {\n\t\tswitch (arguments.length) {\n\t\tcase 1:\n\t\t\tcall.call(listeners, this);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tcall.call(listeners, this, arguments[1]);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tcall.call(listeners, this, arguments[1], arguments[2]);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tl = arguments.length;\n\t\t\targs = new Array(l - 1);\n\t\t\tfor (i = 1; i < l; ++i) {\n\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t}\n\t\t\tapply.call(listeners, this, args);\n\t\t}\n\t}\n};\n\nmethods = {\n\ton: on,\n\tonce: once,\n\toff: off,\n\temit: emit\n};\n\ndescriptors = {\n\ton: d(on),\n\tonce: d(once),\n\toff: d(off),\n\temit: d(emit)\n};\n\nbase = defineProperties({}, descriptors);\n\nmodule.exports = exports = function (o) {\n\treturn (o == null) ? create(base) : defineProperties(Object(o), descriptors);\n};\nexports.methods = methods;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/event-emitter/index.js\n// module id = 2\n// module chunks = 0","'use strict';\n\nvar assign        = require('es5-ext/object/assign')\n  , normalizeOpts = require('es5-ext/object/normalize-options')\n  , isCallable    = require('es5-ext/object/is-callable')\n  , contains      = require('es5-ext/string/#/contains')\n\n  , d;\n\nd = module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif ((arguments.length < 2) || (typeof dscr !== 'string')) {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (dscr == null) {\n\t\tc = w = true;\n\t\te = false;\n\t} else {\n\t\tc = contains.call(dscr, 'c');\n\t\te = contains.call(dscr, 'e');\n\t\tw = contains.call(dscr, 'w');\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== 'string') {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (get == null) {\n\t\tget = undefined;\n\t} else if (!isCallable(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (set == null) {\n\t\tset = undefined;\n\t} else if (!isCallable(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (dscr == null) {\n\t\tc = true;\n\t\te = false;\n\t} else {\n\t\tc = contains.call(dscr, 'c');\n\t\te = contains.call(dscr, 'e');\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d/index.js\n// module id = 3\n// module chunks = 0","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")()\n\t? Object.assign\n\t: require(\"./shim\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/assign/index.js\n// module id = 4\n// module chunks = 0","\"use strict\";\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== \"function\") return false;\n\tobj = { foo: \"raz\" };\n\tassign(obj, { bar: \"dwa\" }, { trzy: \"trzy\" });\n\treturn (obj.foo + obj.bar + obj.trzy) === \"razdwatrzy\";\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/assign/is-implemented.js\n// module id = 5\n// module chunks = 0","\"use strict\";\n\nvar keys  = require(\"../keys\")\n  , value = require(\"../valid-value\")\n  , max   = Math.max;\n\nmodule.exports = function (dest, src /*, …srcn*/) {\n\tvar error, i, length = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry {\n\t\t\tdest[key] = src[key];\n\t\t} catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < length; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/assign/shim.js\n// module id = 6\n// module chunks = 0","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")()\n\t? Object.keys\n\t: require(\"./shim\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/keys/index.js\n// module id = 7\n// module chunks = 0","\"use strict\";\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys(\"primitive\");\n\t\treturn true;\n\t} catch (e) {\n return false;\n}\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/keys/is-implemented.js\n// module id = 8\n// module chunks = 0","\"use strict\";\n\nvar isValue = require(\"../is-value\");\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) {\n\treturn keys(isValue(object) ? Object(object) : object);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/keys/shim.js\n// module id = 9\n// module chunks = 0","\"use strict\";\n\nvar _undefined = require(\"../function/noop\")(); // Support ES3 engines\n\nmodule.exports = function (val) {\n return (val !== _undefined) && (val !== null);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/is-value.js\n// module id = 10\n// module chunks = 0","\"use strict\";\n\n// eslint-disable-next-line no-empty-function\nmodule.exports = function () {};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/function/noop.js\n// module id = 11\n// module chunks = 0","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/valid-value.js\n// module id = 12\n// module chunks = 0","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (opts1 /*, …options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (!isValue(options)) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/normalize-options.js\n// module id = 13\n// module chunks = 0","// Deprecated\n\n\"use strict\";\n\nmodule.exports = function (obj) {\n return typeof obj === \"function\";\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/is-callable.js\n// module id = 14\n// module chunks = 0","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")()\n\t? String.prototype.contains\n\t: require(\"./shim\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/string/#/contains/index.js\n// module id = 15\n// module chunks = 0","\"use strict\";\n\nvar str = \"razdwatrzy\";\n\nmodule.exports = function () {\n\tif (typeof str.contains !== \"function\") return false;\n\treturn (str.contains(\"dwa\") === true) && (str.contains(\"foo\") === false);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/string/#/contains/is-implemented.js\n// module id = 16\n// module chunks = 0","\"use strict\";\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString/*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/string/#/contains/shim.js\n// module id = 17\n// module chunks = 0","\"use strict\";\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== \"function\") throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/es5-ext/object/valid-callable.js\n// module id = 18\n// module chunks = 0","import _defaults from 'lodash.defaults';\r\n\r\nimport createElement from 'virtual-dom/create-element';\r\n\r\nimport TimeScale from './render/TimeScale';\r\nimport Track from './render/Track';\r\nimport Playout from './Playout';\r\nimport PlayedHook from './render/PlayedHook';\r\nimport FragHook from './render/FragHook';\r\nimport FormHook from './render/FormHook';\r\n\r\nimport FragController from './track/controller/FragController';\r\nimport FormController from './track/controller/FormController';\r\nimport OtherController from './track/controller/OtherController';\r\n\r\nimport LoaderFactory from './track/loader/LoaderFactory';\r\n\r\nexport default class {\r\n  constructor() {\r\n    this.defaults = _defaults;\r\n    this.duration = 0;\r\n    this.scrollLeft = 0;\r\n    this.tracks = [];\r\n    this.timer = null;\r\n    this.cycle = true;\r\n    this.allTime = 0;\r\n    this.loadFirst = true;\r\n\r\n    this.startTime = 0;\r\n    this.stopTime = 0;\r\n    this.pauseTime = 0;\r\n    this.lastPlay = 0;\r\n    this.formInfo = [];\r\n    this.typeArr = [{ type: 'input', sort: 'form1', title: '标题', option: '' },\r\n                     { type: 'select', sort: 'form2', title: 'select', option: ['苹果', '香蕉', '橘子'] },\r\n                     // { type: 'checkbox', sort: 'form3', title: 'checkbox', option: ['苹果', '香蕉', '橘子'] },\r\n                     // { type: 'radio', sort: 'form4', title: 'radio', option: ['苹果', '香蕉', '橘子'] }\r\n                     ];\r\n\r\n    this.fragDom = document.getElementById('waveFrag');\r\n    this.canvasDom = document.getElementById('waveCanvse');\r\n  }\r\n  // 设置初始值\r\n  setDefault(info) {\r\n    this.markData = info || this.markData;\r\n  }\r\n  // 设置项目名称ID\r\n  setSampleName(name) {\r\n    this.name = name;\r\n  }\r\n  // 设置初始值\r\n  setDataInfo(info) {\r\n    if (info) {\r\n      this.formInfo = info;\r\n      return;\r\n    }\r\n    // if (localStorage[this.name] && localStorage[this.name] !== '[]') {\r\n    //   this.formInfo = JSON.parse(localStorage[this.name]);\r\n    // }\r\n  }\r\n  setMarkInfo(markInfo) {\r\n    this.markInfo = markInfo;\r\n  }\r\n  // 设置循环\r\n  setCycle(bol) {\r\n    this.cycle = bol;\r\n  }\r\n  // 音频码率\r\n  setSampleRate(sampleRate) {\r\n    this.sampleRate = sampleRate;\r\n  }\r\n  // 音频初始缩放比例\r\n  setSamplesPerPixel(samplesPerPixel) {\r\n    this.samplesPerPixel = samplesPerPixel;\r\n  }\r\n  // 音频AudioContext初始化\r\n  setAudioContext(ac) {\r\n    this.ac = ac;\r\n  }\r\n  // 初始化事件模块\r\n  setEventEmitter(ee) {\r\n    this.ee = ee;\r\n  }\r\n  // 设置wave高度\r\n  setWaveHeight(height) {\r\n    this.waveHeight = height;\r\n  }\r\n  // 设置曲线的颜色\r\n  setColors(colors) {\r\n    this.colors = colors;\r\n  }\r\n  // 设置缩放的区间\r\n  setZoomLevels(levels) {\r\n    this.zoomLevels = levels;\r\n  }\r\n  // 设置缩放index\r\n  setZoomIndex(index) {\r\n    this.zoomIndex = index;\r\n  }\r\n  // 设置缩放比例\r\n  setZoom(zoomIndex) {\r\n    const zoom = this.zoomLevels[zoomIndex];\r\n    this.samplesPerPixel = zoom;\r\n    this.tracks.forEach((track) => {\r\n      track.calculatePeaks(zoom, this.sampleRate);\r\n    });\r\n  }\r\n  // 设置show\r\n  setControlOptions(controlOptions) {\r\n    this.controls = controlOptions;\r\n  }\r\n  // 保存数据\r\n  saveLocalStorage() {\r\n    localStorage.setItem(this.name, JSON.stringify(this.formInfo));\r\n    return this.formInfo;\r\n  }\r\n  // 工具类\r\n  adjustDuration() {\r\n    this.duration = this.tracks.reduce(\r\n      (duration, track) => Math.max(duration, track.getEndTime()),\r\n      0,\r\n    );\r\n    this.allTime += this.tracks[this.tracks.length - 1].duration;\r\n  }\r\n  // 添加新片段\r\n  setFragHook(frag) {\r\n    this.formInfo = frag;\r\n    this.formController.setForminfo(this.formInfo);\r\n    this.fragController.setForminfo(this.formInfo);\r\n    this.fragHook.renderAdd(frag[frag.length - 1], frag.length - 1);\r\n    this.formHook.renderAdd(this.formInfo);\r\n  }\r\n  changeFragHook(frag, index) {\r\n    this.formInfo.splice(index, 1, frag);\r\n    this.formHook.render();\r\n  }\r\n  deleteFragHook(index) {\r\n    this.formInfo.splice(index, 1);\r\n    this.formController.setForminfo(this.formInfo);\r\n    this.fragController.setForminfo(this.formInfo);\r\n    this.fragController.setSelected();\r\n    this.fragHook.render();\r\n    this.formHook.render();\r\n  }\r\n\r\n  // 控制模块\r\n  setUpEventEmitter() {\r\n    const ee = this.ee;\r\n    this.fragController = new\r\n    FragController(ee, this.fragDom, this.formInfo, this.samplesPerPixel, this.sampleRate);\r\n    this.fragController.bindEvent();\r\n    this.formController = new FormController(ee, this.formInfo, this.markInfo);\r\n    this.formController.bindEvent();\r\n    this.otherController = new OtherController(ee);\r\n    this.otherController.bindEvent();\r\n    ee.on('play', (startTime, endTime) => {\r\n      this.play(startTime, endTime);\r\n    });\r\n    ee.on('pause', () => {\r\n      this.pause();\r\n    });\r\n    ee.on('playFrag', (index) => {\r\n      const start = this.formInfo[index].start;\r\n      const end = this.formInfo[index].end - start;\r\n      this.play(start, end);\r\n    });\r\n    ee.on('changeFrag', (frag, index) => {\r\n      this.changeFragHook(frag, index);\r\n    });\r\n    ee.on('addFrag', (frag) => {\r\n      this.setFragHook(frag);\r\n    });\r\n    ee.on('selectdFrag', (index) => {\r\n      this.formController.setClassName(index);\r\n    });\r\n    ee.on('deleteFrag', (index) => {\r\n      this.deleteFragHook(index);\r\n    });\r\n    ee.on('zoom', (index) => {\r\n      this.zoom(index);\r\n    });\r\n    ee.on('save', (formData) => {\r\n      this.formInfo = formData;\r\n      this.saveLocalStorage();\r\n    });\r\n    ee.on('loadFirst', () => {\r\n      const self = this;\r\n      if (this.loadFirst) {\r\n        setTimeout(() => self.play(), 1000);\r\n        this.loadFirst = false;\r\n      }\r\n    });\r\n    ee.on('demo', () => {\r\n      console.log('demo');\r\n    });\r\n    document.getElementById('wrap').onmousewheel = (e) => {\r\n      const zoomIndex = e.deltaY === 100 ? 1 : -1;\r\n      e.preventDefault();\r\n      ee.emit('zoom', zoomIndex);\r\n    };\r\n    document.onkeydown = (e) => {\r\n      switch (e.keyCode) {\r\n        case 32:\r\n          this.isPlaying() ? this.pause() : this.play();\r\n          e.preventDefault();\r\n          break;\r\n        // case 8:\r\n        //   const index = document.getElementsByClassName('fragSelected')[0].getAttribute('name');\r\n        //   this.deleteFragHook(index);\r\n        default:\r\n          break;\r\n      }\r\n    };\r\n  }\r\n  // 是否播放\r\n  isPlaying() {\r\n    let isplay = false;\r\n    this.tracks.forEach((track) => {\r\n      if (track.isPlaying()) {\r\n        isplay = true;\r\n      }\r\n    });\r\n    return isplay;\r\n  }\r\n  // 获取间隔时间TODO\r\n  getElapsedTime() {\r\n    return this.ac.currentTime - this.lastPlay;\r\n  }\r\n  // 停止\r\n  playbackReset() {\r\n    this.tracks.forEach((track) => {\r\n      track.scheduleStop(track, this.lastPlay);\r\n    });\r\n\r\n    return Promise.all(this.playoutPromises);\r\n  }\r\n  // 启动动画\r\n  startAnimation() {\r\n    this.stopAnimation();\r\n    this.timer = requestAnimationFrame((step) => {\r\n      this.stepStart = step;\r\n      this.animationRequest(step);\r\n    });\r\n  }\r\n  animationRequest(step) {\r\n    const stepStart = (step - this.stepStart) / 1000;\r\n    this.lastPlay = this.startTime ? this.startTime + stepStart : this.pauseTime + stepStart;\r\n    if (this.lastPlay >= this.startTime + this.endTime) {\r\n      if (this.cycle) {\r\n        this.play(this.startTime, this.endTime);\r\n        return;\r\n      }\r\n      this.stopAnimation();\r\n      this.pauseTime = this.lastPlay;\r\n    } else {\r\n      this.renderPlayed(this.lastPlay);\r\n      this.timer = requestAnimationFrame((steps) => {\r\n        this.animationRequest(steps);\r\n      });\r\n      if (this.lastPlay >= this.allTime) {\r\n        this.stop();\r\n      }\r\n    }\r\n  }\r\n  // 停止动画\r\n  stopAnimation() {\r\n    window.cancelAnimationFrame(this.timer);\r\n  }\r\n  // demo\r\n  demo() {\r\n    this.ee.emit('demo');\r\n  }\r\n\r\n  // 播放\r\n  play(startTime, endTime) {\r\n    const start = startTime || this.pauseTime;\r\n    const end = endTime || this.duration;\r\n    this.startTime = startTime;\r\n    this.endTime = end;\r\n    if (this.isPlaying()) {\r\n      return this.restartPlayFrom(start, end);\r\n    }\r\n    this.startAnimation();\r\n    const playoutPromises = [];\r\n    const currentTime = this.ac.currentTime;\r\n    this.tracks.forEach((track) => {\r\n      playoutPromises.push(track.schedulePlay(currentTime, start, end, {\r\n        shouldPlay: true,\r\n        masterGain: this.masterGain,\r\n      }, track));\r\n    });\r\n    this.playoutPromises = playoutPromises;\r\n\r\n    document.getElementById('play').style.display = 'none';\r\n    return Promise.all(this.playoutPromises);\r\n  }\r\n  // 暂停\r\n  pause() {\r\n    if (!this.isPlaying()) {\r\n      return;\r\n      // return Promise.all(this.playoutPromises);\r\n    }\r\n    this.stopAnimation();\r\n    this.pauseTime = this.lastPlay;\r\n    document.getElementById('play').style.display = 'block';\r\n    return this.playbackReset();\r\n  }\r\n  // 停止\r\n  stop() {\r\n    this.stopAnimation();\r\n    this.pauseTime = 0;\r\n    this.renderPlayed(this.pauseTime);\r\n    document.getElementById('play').style.display = 'block';\r\n    return this.playbackReset();\r\n  }\r\n  // 重新播放\r\n  restartPlayFrom(start, end) {\r\n    this.stopAnimation();\r\n    this.tracks.forEach((editor) => {\r\n      editor.scheduleStop(editor, this.lastPlay);\r\n    });\r\n\r\n    return Promise.all(this.playoutPromises).then(this.play.bind(this, start, end));\r\n  }\r\n  // 缩放大小\r\n  zoom(zoomStyle) {\r\n    const index = this.zoomIndex + zoomStyle;\r\n    if (index < this.zoomLevels.length && index >= 0 && this.zoomBol) {\r\n      this.zoomIndex = index;\r\n      this.zoomBol = false;\r\n    } else {\r\n      return;\r\n    }\r\n    this.setZoom(this.zoomIndex);\r\n    this.fragController.setSamples(this.samplesPerPixel, this.sampleRate);\r\n    this.renderPlayed(this.pauseTime);\r\n    this.render();\r\n  }\r\n\r\n  // 加载音频并初始化显示\r\n  load(trackList) {\r\n    if (!trackList || trackList.length === 0) {\r\n      this.zoomBol = true;\r\n      return;\r\n    }\r\n    const promiseTrack = [trackList[0]];\r\n    trackList.shift();\r\n    const loadPromises = promiseTrack.map((trackInfo) => {\r\n      const loader = LoaderFactory.createLoader(trackInfo.src, this.ac, this.ee);\r\n      return loader.load();\r\n    });\r\n    return Promise.all(loadPromises).then((audioBuffers) => {\r\n      const tracks = audioBuffers.map((audioBuffer, index) => {\r\n        const info = promiseTrack[index];\r\n        const name = info.name || 'Untitled';\r\n        const cueIn = info.cuein || 0;\r\n        const cueOut = info.cueout || audioBuffer.duration;\r\n        const selection = info.selected;\r\n        const peaks = info.peaks || { type: 'WebAudio', mono: this.mono };\r\n        const waveOutlineColor = info.waveOutlineColor || undefined;\r\n        const playout = new Playout(this.ac, audioBuffer);\r\n        const track = new Track(this.fragDom);\r\n        track.src = info.src;\r\n        track.setBuffer(audioBuffer);\r\n        track.setName(name);\r\n        track.setCues(cueIn, cueOut);\r\n        track.setWaveOutlineColor(waveOutlineColor);\r\n        track.startTime = this.allTime;\r\n\r\n        if (selection !== undefined) {\r\n          this.setActiveTrack(track);\r\n          this.setTimeSelection(selection.start, selection.end);\r\n        }\r\n        if (peaks !== undefined) {\r\n          track.setPeakData(peaks);\r\n        }\r\n\r\n        track.setPlayout(playout);\r\n\r\n        track.calculatePeaks(this.samplesPerPixel, this.sampleRate);\r\n        return track;\r\n      });\r\n      this.tracks = this.tracks.concat(tracks);\r\n      this.adjustDuration();\r\n      this.render(trackList);\r\n    });\r\n  }\r\n  // 时间刻度记载\r\n  renderTimeScale() {\r\n    const controlWidth = this.controls.show ? this.controls.width : 0;\r\n    this.fragController.setAllTime(this.allTime);\r\n    const timeScale = new TimeScale(this.allTime, this.scrollLeft,\r\n      this.samplesPerPixel, this.sampleRate, controlWidth);\r\n    return timeScale.render();\r\n  }\r\n  // 波形图绘制\r\n  renderTrackSection() {\r\n    const trackElements = this.tracks.map(track =>\r\n      track.render(this.samplesPerPixel, this.sampleRate),\r\n    );\r\n    return trackElements;\r\n  }\r\n  // 播放过音频控制\r\n  renderPlayed(seconds) {\r\n    const played = new PlayedHook(seconds, this.samplesPerPixel, this.sampleRate, this.allTime);\r\n    return played.render();\r\n  }\r\n  // 加载片段框\r\n  renderFrag() {\r\n    this.fragHook = new\r\n    FragHook(this.fragDom, this.formInfo, this.samplesPerPixel, this.sampleRate, this.ee);\r\n    this.fragHook.render();\r\n    this.formHook = new FormHook(this.typeArr, this.formInfo, this.samplesPerPixel,\r\n      this.sampleRate, this.ee, this.markInfo);\r\n    this.formHook.render();\r\n  }\r\n  // 加载页面\r\n  render(trackList) {\r\n    const timeTree = this.renderTimeScale();\r\n    const timeNode = createElement(timeTree);\r\n    document.getElementById('timescale').innerHTML = '';\r\n    document.getElementById('timescale').appendChild(timeNode);\r\n\r\n    const canvasTree = this.renderTrackSection();\r\n    this.canvasDom.innerHTML = '';\r\n    if (canvasTree.length !== 0) {\r\n      for (let i = 0; i < canvasTree.length; i++) {\r\n        const canvasNode = createElement(canvasTree[i][0]);\r\n        this.canvasDom.appendChild(canvasNode);\r\n      }\r\n    }\r\n    this.renderFrag();\r\n    this.load(trackList);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Playlist.js","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Used by `_.defaults` to customize its `_.assignIn` use.\n *\n * @private\n * @param {*} objValue The destination value.\n * @param {*} srcValue The source value.\n * @param {string} key The key of the property to assign.\n * @param {Object} object The parent object of `objValue`.\n * @returns {*} Returns the value to assign.\n */\nfunction assignInDefaults(objValue, srcValue, key, object) {\n  if (objValue === undefined ||\n      (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n    return srcValue;\n  }\n  return objValue;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * This method is like `_.assignIn` except that it accepts `customizer`\n * which is invoked to produce the assigned values. If `customizer` returns\n * `undefined`, assignment is handled by the method instead. The `customizer`\n * is invoked with five arguments: (objValue, srcValue, key, object, source).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extendWith\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} [customizer] The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @see _.assignWith\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   return _.isUndefined(objValue) ? srcValue : objValue;\n * }\n *\n * var defaults = _.partialRight(_.assignInWith, customizer);\n *\n * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n  copyObject(source, keysIn(source), object, customizer);\n});\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar defaults = baseRest(function(args) {\n  args.push(undefined, assignInDefaults);\n  return apply(assignInWith, undefined, args);\n});\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = defaults;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash.defaults/index.js\n// module id = 20\n// module chunks = 0","var createElement = require(\"./vdom/create-element.js\")\n\nmodule.exports = createElement\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/create-element.js\n// module id = 21\n// module chunks = 0","var document = require(\"global/document\")\n\nvar applyProperties = require(\"./apply-properties\")\n\nvar isVNode = require(\"../vnode/is-vnode.js\")\nvar isVText = require(\"../vnode/is-vtext.js\")\nvar isWidget = require(\"../vnode/is-widget.js\")\nvar handleThunk = require(\"../vnode/handle-thunk.js\")\n\nmodule.exports = createElement\n\nfunction createElement(vnode, opts) {\n    var doc = opts ? opts.document || document : document\n    var warn = opts ? opts.warn : null\n\n    vnode = handleThunk(vnode).a\n\n    if (isWidget(vnode)) {\n        return vnode.init()\n    } else if (isVText(vnode)) {\n        return doc.createTextNode(vnode.text)\n    } else if (!isVNode(vnode)) {\n        if (warn) {\n            warn(\"Item is not a valid virtual dom node\", vnode)\n        }\n        return null\n    }\n\n    var node = (vnode.namespace === null) ?\n        doc.createElement(vnode.tagName) :\n        doc.createElementNS(vnode.namespace, vnode.tagName)\n\n    var props = vnode.properties\n    applyProperties(node, props)\n\n    var children = vnode.children\n\n    for (var i = 0; i < children.length; i++) {\n        var childNode = createElement(children[i], opts)\n        if (childNode) {\n            node.appendChild(childNode)\n        }\n    }\n\n    return node\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vdom/create-element.js\n// module id = 22\n// module chunks = 0","var topLevel = typeof global !== 'undefined' ? global :\n    typeof window !== 'undefined' ? window : {}\nvar minDoc = require('min-document');\n\nvar doccy;\n\nif (typeof document !== 'undefined') {\n    doccy = document;\n} else {\n    doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n\n    if (!doccy) {\n        doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n    }\n}\n\nmodule.exports = doccy;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/global/document.js\n// module id = 23\n// module chunks = 0","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// min-document (ignored)\n// module id = 24\n// module chunks = 0","var isObject = require(\"is-object\")\nvar isHook = require(\"../vnode/is-vhook.js\")\n\nmodule.exports = applyProperties\n\nfunction applyProperties(node, props, previous) {\n    for (var propName in props) {\n        var propValue = props[propName]\n\n        if (propValue === undefined) {\n            removeProperty(node, propName, propValue, previous);\n        } else if (isHook(propValue)) {\n            removeProperty(node, propName, propValue, previous)\n            if (propValue.hook) {\n                propValue.hook(node,\n                    propName,\n                    previous ? previous[propName] : undefined)\n            }\n        } else {\n            if (isObject(propValue)) {\n                patchObject(node, props, previous, propName, propValue);\n            } else {\n                node[propName] = propValue\n            }\n        }\n    }\n}\n\nfunction removeProperty(node, propName, propValue, previous) {\n    if (previous) {\n        var previousValue = previous[propName]\n\n        if (!isHook(previousValue)) {\n            if (propName === \"attributes\") {\n                for (var attrName in previousValue) {\n                    node.removeAttribute(attrName)\n                }\n            } else if (propName === \"style\") {\n                for (var i in previousValue) {\n                    node.style[i] = \"\"\n                }\n            } else if (typeof previousValue === \"string\") {\n                node[propName] = \"\"\n            } else {\n                node[propName] = null\n            }\n        } else if (previousValue.unhook) {\n            previousValue.unhook(node, propName, propValue)\n        }\n    }\n}\n\nfunction patchObject(node, props, previous, propName, propValue) {\n    var previousValue = previous ? previous[propName] : undefined\n\n    // Set attributes\n    if (propName === \"attributes\") {\n        for (var attrName in propValue) {\n            var attrValue = propValue[attrName]\n\n            if (attrValue === undefined) {\n                node.removeAttribute(attrName)\n            } else {\n                node.setAttribute(attrName, attrValue)\n            }\n        }\n\n        return\n    }\n\n    if(previousValue && isObject(previousValue) &&\n        getPrototype(previousValue) !== getPrototype(propValue)) {\n        node[propName] = propValue\n        return\n    }\n\n    if (!isObject(node[propName])) {\n        node[propName] = {}\n    }\n\n    var replacer = propName === \"style\" ? \"\" : undefined\n\n    for (var k in propValue) {\n        var value = propValue[k]\n        node[propName][k] = (value === undefined) ? replacer : value\n    }\n}\n\nfunction getPrototype(value) {\n    if (Object.getPrototypeOf) {\n        return Object.getPrototypeOf(value)\n    } else if (value.__proto__) {\n        return value.__proto__\n    } else if (value.constructor) {\n        return value.constructor.prototype\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vdom/apply-properties.js\n// module id = 25\n// module chunks = 0","\"use strict\";\n\nmodule.exports = function isObject(x) {\n\treturn typeof x === \"object\" && x !== null;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/is-object/index.js\n// module id = 26\n// module chunks = 0","module.exports = isHook\n\nfunction isHook(hook) {\n    return hook &&\n      (typeof hook.hook === \"function\" && !hook.hasOwnProperty(\"hook\") ||\n       typeof hook.unhook === \"function\" && !hook.hasOwnProperty(\"unhook\"))\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vnode/is-vhook.js\n// module id = 27\n// module chunks = 0","var version = require(\"./version\")\n\nmodule.exports = isVirtualNode\n\nfunction isVirtualNode(x) {\n    return x && x.type === \"VirtualNode\" && x.version === version\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vnode/is-vnode.js\n// module id = 28\n// module chunks = 0","module.exports = \"2\"\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vnode/version.js\n// module id = 29\n// module chunks = 0","var version = require(\"./version\")\n\nmodule.exports = isVirtualText\n\nfunction isVirtualText(x) {\n    return x && x.type === \"VirtualText\" && x.version === version\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vnode/is-vtext.js\n// module id = 30\n// module chunks = 0","module.exports = isWidget\n\nfunction isWidget(w) {\n    return w && w.type === \"Widget\"\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vnode/is-widget.js\n// module id = 31\n// module chunks = 0","var isVNode = require(\"./is-vnode\")\nvar isVText = require(\"./is-vtext\")\nvar isWidget = require(\"./is-widget\")\nvar isThunk = require(\"./is-thunk\")\n\nmodule.exports = handleThunk\n\nfunction handleThunk(a, b) {\n    var renderedA = a\n    var renderedB = b\n\n    if (isThunk(b)) {\n        renderedB = renderThunk(b, a)\n    }\n\n    if (isThunk(a)) {\n        renderedA = renderThunk(a, null)\n    }\n\n    return {\n        a: renderedA,\n        b: renderedB\n    }\n}\n\nfunction renderThunk(thunk, previous) {\n    var renderedThunk = thunk.vnode\n\n    if (!renderedThunk) {\n        renderedThunk = thunk.vnode = thunk.render(previous)\n    }\n\n    if (!(isVNode(renderedThunk) ||\n            isVText(renderedThunk) ||\n            isWidget(renderedThunk))) {\n        throw new Error(\"thunk did not return a valid node\");\n    }\n\n    return renderedThunk\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vnode/handle-thunk.js\n// module id = 32\n// module chunks = 0","module.exports = isThunk\r\n\r\nfunction isThunk(t) {\r\n    return t && t.type === \"Thunk\"\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vnode/is-thunk.js\n// module id = 33\n// module chunks = 0","import h from 'virtual-dom/h';\r\n\r\nimport { secondsToPixels } from '../utils/conversions';\r\nimport TimeScaleHook from '../render/TimeScaleHook';\r\n\r\nclass TimeScale {\r\n  constructor(duration, offset, samplesPerPixel, sampleRate) {\r\n    this.duration = duration;\r\n    this.offset = offset;\r\n    this.samplesPerPixel = samplesPerPixel;\r\n    this.sampleRate = sampleRate;\r\n    this.marginLeft = 0;\r\n\r\n    this.timeinfo = {\r\n      20000: {\r\n        marker: 30000,\r\n        bigStep: 10000,\r\n        smallStep: 5000,\r\n        secondStep: 5,\r\n      },\r\n      12000: {\r\n        marker: 15000,\r\n        bigStep: 5000,\r\n        smallStep: 1000,\r\n        secondStep: 1,\r\n      },\r\n      10000: {\r\n        marker: 10000,\r\n        bigStep: 5000,\r\n        smallStep: 1000,\r\n        secondStep: 1,\r\n      },\r\n      5000: {\r\n        marker: 5000,\r\n        bigStep: 1000,\r\n        smallStep: 500,\r\n        secondStep: 1 / 2,\r\n      },\r\n      2500: {\r\n        marker: 2000,\r\n        bigStep: 1000,\r\n        smallStep: 500,\r\n        secondStep: 1 / 2,\r\n      },\r\n      1500: {\r\n        marker: 2000,\r\n        bigStep: 1000,\r\n        smallStep: 200,\r\n        secondStep: 1 / 5,\r\n      },\r\n      700: {\r\n        marker: 1000,\r\n        bigStep: 500,\r\n        smallStep: 100,\r\n        secondStep: 1 / 10,\r\n      },\r\n    };\r\n  }\r\n\r\n  getScaleInfo(resolution) {\r\n    let keys = Object.keys(this.timeinfo).map(item => parseInt(item, 10));\r\n\r\n    // make sure keys are numerically sorted.\r\n    keys = keys.sort((a, b) => a - b);\r\n\r\n    for (let i = 0; i < keys.length; i += 1) {\r\n      if (resolution <= keys[i]) {\r\n        return this.timeinfo[keys[i]];\r\n      }\r\n    }\r\n\r\n    return this.timeinfo[keys[0]];\r\n  }\r\n\r\n  /*\r\n    Return time in format mm:ss\r\n  */\r\n  static formatTime(milliseconds) {\r\n    const seconds = milliseconds / 1000;\r\n    let s = seconds % 60;\r\n    const m = (seconds - s) / 60;\r\n\r\n    if (s < 10) {\r\n      s = `0${s}`;\r\n    }\r\n\r\n    return `${m}:${s}`;\r\n  }\r\n\r\n  render() {\r\n    const widthX = secondsToPixels(this.duration, this.samplesPerPixel, this.sampleRate);\r\n    const pixPerSec = this.sampleRate / this.samplesPerPixel;\r\n    const pixOffset = secondsToPixels(this.offset, this.samplesPerPixel, this.sampleRate);\r\n    const scaleInfo = this.getScaleInfo(this.samplesPerPixel);\r\n    const canvasInfo = {};\r\n    const timeMarkers = [];\r\n    const end = widthX + pixOffset;\r\n    let counter = 0;\r\n\r\n    for (let i = 0; i < end; i += (pixPerSec * scaleInfo.secondStep)) {\r\n      const pixIndex = Math.floor(i);\r\n      const pix = pixIndex - pixOffset;\r\n\r\n      if (pixIndex >= pixOffset) {\r\n        // put a timestamp every 30 seconds.\r\n        if (scaleInfo.marker && (counter % scaleInfo.marker === 0)) {\r\n          timeMarkers.push(h('div.time',\r\n            {\r\n              attributes: {\r\n                style: `position: absolute; left: ${pix}px;`,\r\n              },\r\n            },\r\n            [TimeScale.formatTime(counter)],\r\n          ));\r\n\r\n          canvasInfo[pix] = 10;\r\n        } else if (scaleInfo.bigStep && (counter % scaleInfo.bigStep === 0)) {\r\n          canvasInfo[pix] = 5;\r\n        } else if (scaleInfo.smallStep && (counter % scaleInfo.smallStep === 0)) {\r\n          canvasInfo[pix] = 2;\r\n        }\r\n      }\r\n\r\n      counter += (1000 * scaleInfo.secondStep);\r\n    }\r\n    return h('div.playlist-time-scale',\r\n      {\r\n        attributes: {\r\n          style: `position: relative; left: 0; right: 0; margin-left: ${this.marginLeft}px;`,\r\n        },\r\n      },\r\n      [\r\n        timeMarkers,\r\n        h('canvas',\r\n          {\r\n            attributes: {\r\n              width: widthX,\r\n              height: 30,\r\n              style: 'position: absolute; left: 0; right: 0; top: 0; bottom: 0;',\r\n            },\r\n            hook: new TimeScaleHook(canvasInfo, this.offset, this.samplesPerPixel, this.duration),\r\n          },\r\n        ),\r\n      ],\r\n    );\r\n  }\r\n}\r\n\r\nexport default TimeScale;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/TimeScale.js","var h = require(\"./virtual-hyperscript/index.js\")\n\nmodule.exports = h\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/h.js\n// module id = 35\n// module chunks = 0","'use strict';\n\nvar isArray = require('x-is-array');\n\nvar VNode = require('../vnode/vnode.js');\nvar VText = require('../vnode/vtext.js');\nvar isVNode = require('../vnode/is-vnode');\nvar isVText = require('../vnode/is-vtext');\nvar isWidget = require('../vnode/is-widget');\nvar isHook = require('../vnode/is-vhook');\nvar isVThunk = require('../vnode/is-thunk');\n\nvar parseTag = require('./parse-tag.js');\nvar softSetHook = require('./hooks/soft-set-hook.js');\nvar evHook = require('./hooks/ev-hook.js');\n\nmodule.exports = h;\n\nfunction h(tagName, properties, children) {\n    var childNodes = [];\n    var tag, props, key, namespace;\n\n    if (!children && isChildren(properties)) {\n        children = properties;\n        props = {};\n    }\n\n    props = props || properties || {};\n    tag = parseTag(tagName, props);\n\n    // support keys\n    if (props.hasOwnProperty('key')) {\n        key = props.key;\n        props.key = undefined;\n    }\n\n    // support namespace\n    if (props.hasOwnProperty('namespace')) {\n        namespace = props.namespace;\n        props.namespace = undefined;\n    }\n\n    // fix cursor bug\n    if (tag === 'INPUT' &&\n        !namespace &&\n        props.hasOwnProperty('value') &&\n        props.value !== undefined &&\n        !isHook(props.value)\n    ) {\n        props.value = softSetHook(props.value);\n    }\n\n    transformProperties(props);\n\n    if (children !== undefined && children !== null) {\n        addChild(children, childNodes, tag, props);\n    }\n\n\n    return new VNode(tag, props, childNodes, key, namespace);\n}\n\nfunction addChild(c, childNodes, tag, props) {\n    if (typeof c === 'string') {\n        childNodes.push(new VText(c));\n    } else if (typeof c === 'number') {\n        childNodes.push(new VText(String(c)));\n    } else if (isChild(c)) {\n        childNodes.push(c);\n    } else if (isArray(c)) {\n        for (var i = 0; i < c.length; i++) {\n            addChild(c[i], childNodes, tag, props);\n        }\n    } else if (c === null || c === undefined) {\n        return;\n    } else {\n        throw UnexpectedVirtualElement({\n            foreignObject: c,\n            parentVnode: {\n                tagName: tag,\n                properties: props\n            }\n        });\n    }\n}\n\nfunction transformProperties(props) {\n    for (var propName in props) {\n        if (props.hasOwnProperty(propName)) {\n            var value = props[propName];\n\n            if (isHook(value)) {\n                continue;\n            }\n\n            if (propName.substr(0, 3) === 'ev-') {\n                // add ev-foo support\n                props[propName] = evHook(value);\n            }\n        }\n    }\n}\n\nfunction isChild(x) {\n    return isVNode(x) || isVText(x) || isWidget(x) || isVThunk(x);\n}\n\nfunction isChildren(x) {\n    return typeof x === 'string' || isArray(x) || isChild(x);\n}\n\nfunction UnexpectedVirtualElement(data) {\n    var err = new Error();\n\n    err.type = 'virtual-hyperscript.unexpected.virtual-element';\n    err.message = 'Unexpected virtual child passed to h().\\n' +\n        'Expected a VNode / Vthunk / VWidget / string but:\\n' +\n        'got:\\n' +\n        errorString(data.foreignObject) +\n        '.\\n' +\n        'The parent vnode is:\\n' +\n        errorString(data.parentVnode)\n        '\\n' +\n        'Suggested fix: change your `h(..., [ ... ])` callsite.';\n    err.foreignObject = data.foreignObject;\n    err.parentVnode = data.parentVnode;\n\n    return err;\n}\n\nfunction errorString(obj) {\n    try {\n        return JSON.stringify(obj, null, '    ');\n    } catch (e) {\n        return String(obj);\n    }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/virtual-hyperscript/index.js\n// module id = 36\n// module chunks = 0","var nativeIsArray = Array.isArray\nvar toString = Object.prototype.toString\n\nmodule.exports = nativeIsArray || isArray\n\nfunction isArray(obj) {\n    return toString.call(obj) === \"[object Array]\"\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/x-is-array/index.js\n// module id = 37\n// module chunks = 0","var version = require(\"./version\")\nvar isVNode = require(\"./is-vnode\")\nvar isWidget = require(\"./is-widget\")\nvar isThunk = require(\"./is-thunk\")\nvar isVHook = require(\"./is-vhook\")\n\nmodule.exports = VirtualNode\n\nvar noProperties = {}\nvar noChildren = []\n\nfunction VirtualNode(tagName, properties, children, key, namespace) {\n    this.tagName = tagName\n    this.properties = properties || noProperties\n    this.children = children || noChildren\n    this.key = key != null ? String(key) : undefined\n    this.namespace = (typeof namespace === \"string\") ? namespace : null\n\n    var count = (children && children.length) || 0\n    var descendants = 0\n    var hasWidgets = false\n    var hasThunks = false\n    var descendantHooks = false\n    var hooks\n\n    for (var propName in properties) {\n        if (properties.hasOwnProperty(propName)) {\n            var property = properties[propName]\n            if (isVHook(property) && property.unhook) {\n                if (!hooks) {\n                    hooks = {}\n                }\n\n                hooks[propName] = property\n            }\n        }\n    }\n\n    for (var i = 0; i < count; i++) {\n        var child = children[i]\n        if (isVNode(child)) {\n            descendants += child.count || 0\n\n            if (!hasWidgets && child.hasWidgets) {\n                hasWidgets = true\n            }\n\n            if (!hasThunks && child.hasThunks) {\n                hasThunks = true\n            }\n\n            if (!descendantHooks && (child.hooks || child.descendantHooks)) {\n                descendantHooks = true\n            }\n        } else if (!hasWidgets && isWidget(child)) {\n            if (typeof child.destroy === \"function\") {\n                hasWidgets = true\n            }\n        } else if (!hasThunks && isThunk(child)) {\n            hasThunks = true;\n        }\n    }\n\n    this.count = count + descendants\n    this.hasWidgets = hasWidgets\n    this.hasThunks = hasThunks\n    this.hooks = hooks\n    this.descendantHooks = descendantHooks\n}\n\nVirtualNode.prototype.version = version\nVirtualNode.prototype.type = \"VirtualNode\"\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vnode/vnode.js\n// module id = 38\n// module chunks = 0","var version = require(\"./version\")\n\nmodule.exports = VirtualText\n\nfunction VirtualText(text) {\n    this.text = String(text)\n}\n\nVirtualText.prototype.version = version\nVirtualText.prototype.type = \"VirtualText\"\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/vnode/vtext.js\n// module id = 39\n// module chunks = 0","'use strict';\n\nvar split = require('browser-split');\n\nvar classIdSplit = /([\\.#]?[a-zA-Z0-9\\u007F-\\uFFFF_:-]+)/;\nvar notClassId = /^\\.|#/;\n\nmodule.exports = parseTag;\n\nfunction parseTag(tag, props) {\n    if (!tag) {\n        return 'DIV';\n    }\n\n    var noId = !(props.hasOwnProperty('id'));\n\n    var tagParts = split(tag, classIdSplit);\n    var tagName = null;\n\n    if (notClassId.test(tagParts[1])) {\n        tagName = 'DIV';\n    }\n\n    var classes, part, type, i;\n\n    for (i = 0; i < tagParts.length; i++) {\n        part = tagParts[i];\n\n        if (!part) {\n            continue;\n        }\n\n        type = part.charAt(0);\n\n        if (!tagName) {\n            tagName = part;\n        } else if (type === '.') {\n            classes = classes || [];\n            classes.push(part.substring(1, part.length));\n        } else if (type === '#' && noId) {\n            props.id = part.substring(1, part.length);\n        }\n    }\n\n    if (classes) {\n        if (props.className) {\n            classes.push(props.className);\n        }\n\n        props.className = classes.join(' ');\n    }\n\n    return props.namespace ? tagName : tagName.toUpperCase();\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/virtual-hyperscript/parse-tag.js\n// module id = 40\n// module chunks = 0","/*!\n * Cross-Browser Split 1.1.1\n * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>\n * Available under the MIT License\n * ECMAScript compliant, uniform cross-browser split method\n */\n\n/**\n * Splits a string into an array of strings using a regex or string separator. Matches of the\n * separator are not included in the result array. However, if `separator` is a regex that contains\n * capturing groups, backreferences are spliced into the result each time `separator` is matched.\n * Fixes browser bugs compared to the native `String.prototype.split` and can be used reliably\n * cross-browser.\n * @param {String} str String to split.\n * @param {RegExp|String} separator Regex or string to use for separating the string.\n * @param {Number} [limit] Maximum number of items to include in the result array.\n * @returns {Array} Array of substrings.\n * @example\n *\n * // Basic use\n * split('a b c d', ' ');\n * // -> ['a', 'b', 'c', 'd']\n *\n * // With limit\n * split('a b c d', ' ', 2);\n * // -> ['a', 'b']\n *\n * // Backreferences in result array\n * split('..word1 word2..', /([a-z]+)(\\d+)/i);\n * // -> ['..', 'word', '1', ' ', 'word', '2', '..']\n */\nmodule.exports = (function split(undef) {\n\n  var nativeSplit = String.prototype.split,\n    compliantExecNpcg = /()??/.exec(\"\")[1] === undef,\n    // NPCG: nonparticipating capturing group\n    self;\n\n  self = function(str, separator, limit) {\n    // If `separator` is not a regex, use `nativeSplit`\n    if (Object.prototype.toString.call(separator) !== \"[object RegExp]\") {\n      return nativeSplit.call(str, separator, limit);\n    }\n    var output = [],\n      flags = (separator.ignoreCase ? \"i\" : \"\") + (separator.multiline ? \"m\" : \"\") + (separator.extended ? \"x\" : \"\") + // Proposed for ES6\n      (separator.sticky ? \"y\" : \"\"),\n      // Firefox 3+\n      lastLastIndex = 0,\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      separator = new RegExp(separator.source, flags + \"g\"),\n      separator2, match, lastIndex, lastLength;\n    str += \"\"; // Type-convert\n    if (!compliantExecNpcg) {\n      // Doesn't need flags gy, but they don't hurt\n      separator2 = new RegExp(\"^\" + separator.source + \"$(?!\\\\s)\", flags);\n    }\n    /* Values for `limit`, per the spec:\n     * If undefined: 4294967295 // Math.pow(2, 32) - 1\n     * If 0, Infinity, or NaN: 0\n     * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n     * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n     * If other: Type-convert, then use the above rules\n     */\n    limit = limit === undef ? -1 >>> 0 : // Math.pow(2, 32) - 1\n    limit >>> 0; // ToUint32(limit)\n    while (match = separator.exec(str)) {\n      // `separator.lastIndex` is not reliable cross-browser\n      lastIndex = match.index + match[0].length;\n      if (lastIndex > lastLastIndex) {\n        output.push(str.slice(lastLastIndex, match.index));\n        // Fix browsers whose `exec` methods don't consistently return `undefined` for\n        // nonparticipating capturing groups\n        if (!compliantExecNpcg && match.length > 1) {\n          match[0].replace(separator2, function() {\n            for (var i = 1; i < arguments.length - 2; i++) {\n              if (arguments[i] === undef) {\n                match[i] = undef;\n              }\n            }\n          });\n        }\n        if (match.length > 1 && match.index < str.length) {\n          Array.prototype.push.apply(output, match.slice(1));\n        }\n        lastLength = match[0].length;\n        lastLastIndex = lastIndex;\n        if (output.length >= limit) {\n          break;\n        }\n      }\n      if (separator.lastIndex === match.index) {\n        separator.lastIndex++; // Avoid an infinite loop\n      }\n    }\n    if (lastLastIndex === str.length) {\n      if (lastLength || !separator.test(\"\")) {\n        output.push(\"\");\n      }\n    } else {\n      output.push(str.slice(lastLastIndex));\n    }\n    return output.length > limit ? output.slice(0, limit) : output;\n  };\n\n  return self;\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/browser-split/index.js\n// module id = 41\n// module chunks = 0","'use strict';\n\nmodule.exports = SoftSetHook;\n\nfunction SoftSetHook(value) {\n    if (!(this instanceof SoftSetHook)) {\n        return new SoftSetHook(value);\n    }\n\n    this.value = value;\n}\n\nSoftSetHook.prototype.hook = function (node, propertyName) {\n    if (node[propertyName] !== this.value) {\n        node[propertyName] = this.value;\n    }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/virtual-hyperscript/hooks/soft-set-hook.js\n// module id = 42\n// module chunks = 0","'use strict';\n\nvar EvStore = require('ev-store');\n\nmodule.exports = EvHook;\n\nfunction EvHook(value) {\n    if (!(this instanceof EvHook)) {\n        return new EvHook(value);\n    }\n\n    this.value = value;\n}\n\nEvHook.prototype.hook = function (node, propertyName) {\n    var es = EvStore(node);\n    var propName = propertyName.substr(3);\n\n    es[propName] = this.value;\n};\n\nEvHook.prototype.unhook = function(node, propertyName) {\n    var es = EvStore(node);\n    var propName = propertyName.substr(3);\n\n    es[propName] = undefined;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/virtual-dom/virtual-hyperscript/hooks/ev-hook.js\n// module id = 43\n// module chunks = 0","'use strict';\n\nvar OneVersionConstraint = require('individual/one-version');\n\nvar MY_VERSION = '7';\nOneVersionConstraint('ev-store', MY_VERSION);\n\nvar hashKey = '__EV_STORE_KEY@' + MY_VERSION;\n\nmodule.exports = EvStore;\n\nfunction EvStore(elem) {\n    var hash = elem[hashKey];\n\n    if (!hash) {\n        hash = elem[hashKey] = {};\n    }\n\n    return hash;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ev-store/index.js\n// module id = 44\n// module chunks = 0","'use strict';\n\nvar Individual = require('./index.js');\n\nmodule.exports = OneVersion;\n\nfunction OneVersion(moduleName, version, defaultValue) {\n    var key = '__INDIVIDUAL_ONE_VERSION_' + moduleName;\n    var enforceKey = key + '_ENFORCE_SINGLETON';\n\n    var versionValue = Individual(enforceKey, version);\n\n    if (versionValue !== version) {\n        throw new Error('Can only have one copy of ' +\n            moduleName + '.\\n' +\n            'You already have version ' + versionValue +\n            ' installed.\\n' +\n            'This means you cannot install version ' + version);\n    }\n\n    return Individual(key, defaultValue);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/individual/one-version.js\n// module id = 45\n// module chunks = 0","'use strict';\n\n/*global window, global*/\n\nvar root = typeof window !== 'undefined' ?\n    window : typeof global !== 'undefined' ?\n    global : {};\n\nmodule.exports = Individual;\n\nfunction Individual(key, value) {\n    if (key in root) {\n        return root[key];\n    }\n\n    root[key] = value;\n\n    return value;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/individual/index.js\n// module id = 46\n// module chunks = 0","export function samplesToSeconds(samples, sampleRate) {\r\n  return samples / sampleRate;\r\n}\r\n\r\nexport function secondsToSamples(seconds, sampleRate) {\r\n  return Math.ceil(seconds * sampleRate);\r\n}\r\n\r\nexport function samplesToPixels(samples, resolution) {\r\n  return Math.floor(samples / resolution);\r\n}\r\n\r\nexport function pixelsToSamples(pixels, resolution) {\r\n  return Math.floor(pixels * resolution);\r\n}\r\n\r\nexport function pixelsToSeconds(pixels, resolution, sampleRate) {\r\n  return (pixels * resolution) / sampleRate <= 0 ? 0 : (pixels * resolution) / sampleRate;\r\n}\r\n\r\nexport function secondsToPixels(seconds, resolution, sampleRate) {\r\n  return Math.ceil((seconds * sampleRate) / resolution);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/conversions.js","/*\r\n* virtual-dom hook for rendering the time scale canvas.\r\n*/\r\nexport default class {\r\n  constructor(tickInfo, offset, samplesPerPixel, duration) {\r\n    this.tickInfo = tickInfo;\r\n    this.offset = offset;\r\n    this.samplesPerPixel = samplesPerPixel;\r\n    this.duration = duration;\r\n  }\r\n\r\n  hook(canvas, prop, prev) {\r\n    // canvas is up to date\r\n    if (prev !== undefined\r\n      && (prev.offset === this.offset)\r\n      && (prev.duration === this.duration)\r\n      && (prev.samplesPerPixel === this.samplesPerPixel)) {\r\n      return;\r\n    }\r\n\r\n    const width = canvas.width;\r\n    const height = canvas.height;\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    ctx.clearRect(0, 0, width, height);\r\n\r\n    Object.keys(this.tickInfo).forEach((x) => {\r\n      const scaleHeight = this.tickInfo[x];\r\n      const scaleY = height - scaleHeight;\r\n      ctx.fillRect(x, scaleY, 1, scaleHeight);\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/TimeScaleHook.js","import _assign from 'lodash.assign';\r\nimport h from 'virtual-dom/h';\r\n\r\nimport extractPeaks from 'webaudio-peaks';\r\nimport { secondsToSamples, secondsToPixels } from '../utils/conversions';\r\nimport CanvasHook from '../render/CanvasHook';\r\n\r\nconst MAX_CANVAS_WIDTH = 3000;\r\nexport default class {\r\n  constructor(fragDom) {\r\n    this.startTime = 0;\r\n    this.endTime = 0;\r\n    this.fragDom = fragDom;\r\n    this.peakData = {\r\n      type: 'WebAudio',\r\n      mono: true,\r\n    };\r\n  }\r\n  // 设置音频流\r\n  setBuffer(buffer) {\r\n    this.buffer = buffer;\r\n  }\r\n  // 设置名称\r\n  setName(name) {\r\n    this.name = name;\r\n  }\r\n  // 设置颜色配置\r\n  setWaveOutlineColor(color) {\r\n    this.waveOutlineColor = color;\r\n  }\r\n  // 设置peakData\r\n  setPeakData(data) {\r\n    this.peakData = data;\r\n  }\r\n  // 设置playout\r\n  setPlayout(playout) {\r\n    this.playout = playout;\r\n  }\r\n  // 设置开始结束时间\r\n  setStartTime(start) {\r\n    this.startTime = start;\r\n    this.endTime = start + this.duration;\r\n  }\r\n  // 设置区时间\r\n  setCues(cueIn, cueOut) {\r\n    if (cueOut < cueIn) {\r\n      throw new Error('cue out cannot be less than cue in');\r\n    }\r\n    this.cueIn = cueIn;\r\n    this.cueOut = cueOut;\r\n    this.duration = this.cueOut - this.cueIn;\r\n    this.endTime = this.startTime + this.duration;\r\n  }\r\n  // 设置peaks\r\n  setPeaks(peaks) {\r\n    this.peaks = peaks;\r\n  }\r\n  // 获取结束时间\r\n  getEndTime() {\r\n    return this.endTime;\r\n  }\r\n  // 是否播放\r\n  isPlaying() {\r\n    return this.playout.isPlaying();\r\n  }\r\n  // 播放\r\n  schedulePlay(now, startTime, endTime, config, track) {\r\n    const defaultOptions = {\r\n      shouldPlay: true,\r\n      masterGain: 1,\r\n      isOffline: false,\r\n    };\r\n\r\n    const options = _assign({}, defaultOptions, config);\r\n    const playoutSystem = options.isOffline ? this.offlinePlayout : this.playout;\r\n    const sourcePromise = playoutSystem.setUpSource();\r\n    playoutSystem.setVolumeGainLevel(1);\r\n    playoutSystem.setShouldPlay(options.shouldPlay);\r\n    playoutSystem.setMasterGainLevel(1);\r\n    playoutSystem.play(now, startTime, endTime, track);\r\n    return sourcePromise;\r\n  }\r\n  // 停止\r\n  scheduleStop(track, now, when = 0) {\r\n    this.playout.stop(track, now, when);\r\n  }\r\n\r\n  // 设置peaks\r\n  calculatePeaks(samplesPerPixel, sampleRate) {\r\n    this.sampleRate = sampleRate;\r\n    const cueIn = secondsToSamples(this.cueIn, sampleRate);\r\n    const cueOut = secondsToSamples(this.cueOut, sampleRate);\r\n    this.setPeaks(extractPeaks(this.buffer, samplesPerPixel, this.peakData.mono, cueIn, cueOut));\r\n  }\r\n\r\n  // 构造canvas声音波形\r\n  render(samplesPerPixel, sampleRate) {\r\n    const canvasWidth = this.peaks.length;\r\n    const canvasLeft = secondsToPixels(this.startTime, samplesPerPixel, sampleRate);\r\n    const fragDomWid = secondsToPixels(this.startTime + this.endTime, samplesPerPixel, sampleRate);\r\n    const canvasHeight = 300;\r\n    this.fragDom.style.width = `${fragDomWid}px`;\r\n    const channels = Object.keys(this.peaks.data).map((channelNum) => {\r\n      const channelChildren = [];\r\n      let offset = 0;\r\n      let totalWidth = canvasWidth;\r\n      const peaks = this.peaks.data[channelNum];\r\n      while (totalWidth > 0) {\r\n        const currentWidth = Math.min(totalWidth, MAX_CANVAS_WIDTH);\r\n        const canvasColor = '#373B4D';\r\n\r\n        channelChildren.push(h('canvas', {\r\n          attributes: {\r\n            width: currentWidth,\r\n            height: canvasHeight,\r\n            style: 'float: left; position: relative; margin: 0; padding: 0; z-index: 3;',\r\n          },\r\n          hook: new CanvasHook(peaks, offset, this.peaks.bits, canvasColor),\r\n        }));\r\n        totalWidth -= currentWidth;\r\n        offset += MAX_CANVAS_WIDTH;\r\n      }\r\n\r\n      return h(`div.channel.channel-${channelNum}`,\r\n        {\r\n          attributes: {\r\n            style: `height: ${canvasHeight}px;left: ${canvasLeft}px; width: ${canvasWidth}px; top: ${channelNum * canvasHeight}px; position: absolute; margin: 0; padding: 0; z-index: 1;border-top: 20px #373B4D solid;border-bottom: 20px #373B4D solid;`,\r\n          },\r\n        },\r\n        channelChildren,\r\n      );\r\n    });\r\n    return channels;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/Track.js","'use strict';\n\n//http://jsperf.com/typed-array-min-max/2\n//plain for loop for finding min/max is way faster than anything else.\n/**\n* @param {TypedArray} array - Subarray of audio to calculate peaks from.\n*/\nfunction findMinMax(array) {\n    var min = Infinity;\n    var max = -Infinity;\n    var i = 0;\n    var len = array.length;\n    var curr;\n\n    for(; i < len; i++) {\n        curr = array[i];\n        if (min > curr) {\n            min = curr;\n        }\n        if (max < curr) {\n            max = curr;\n        }\n    }\n\n    return {\n        min: min,\n        max: max\n    };\n}\n\n/**\n* @param {Number} n - peak to convert from float to Int8, Int16 etc.\n* @param {Number} bits - convert to #bits two's complement signed integer\n*/\nfunction convert(n, bits) {\n    var max = Math.pow(2, bits-1);\n    var v = n < 0 ? n * max : n * max - 1;\n    return Math.max(-max, Math.min(max-1, v));\n}\n\n/**\n* @param {TypedArray} channel - Audio track frames to calculate peaks from.\n* @param {Number} samplesPerPixel - Audio frames per peak\n*/\nfunction extractPeaks(channel, samplesPerPixel, bits) {\n    var i;\n    var chanLength = channel.length;\n    var numPeaks = Math.ceil(chanLength / samplesPerPixel);\n    var start;\n    var end;\n    var segment;\n    var max; \n    var min;\n    var extrema;\n\n    //create interleaved array of min,max\n    var peaks = new (eval(\"Int\"+bits+\"Array\"))(numPeaks*2);\n\n    for (i = 0; i < numPeaks; i++) {\n\n        start = i * samplesPerPixel;\n        end = (i + 1) * samplesPerPixel > chanLength ? chanLength : (i + 1) * samplesPerPixel;\n\n        segment = channel.subarray(start, end);\n        extrema = findMinMax(segment);\n        min = convert(extrema.min, bits);\n        max = convert(extrema.max, bits);\n\n        peaks[i*2] = min;\n        peaks[i*2+1] = max;\n    }\n\n    return peaks;\n}\n\nfunction makeMono(channelPeaks, bits) {\n    var numChan = channelPeaks.length;\n    var weight = 1 / numChan;\n    var numPeaks = channelPeaks[0].length / 2;\n    var c = 0;\n    var i = 0;\n    var min;\n    var max;\n    var peaks = new (eval(\"Int\"+bits+\"Array\"))(numPeaks*2);\n\n    for (i = 0; i < numPeaks; i++) {\n        min = 0;\n        max = 0;\n\n        for (c = 0; c < numChan; c++) {\n            min += weight * channelPeaks[c][i*2];\n            max += weight * channelPeaks[c][i*2+1];\n        }\n\n        peaks[i*2] = min;\n        peaks[i*2+1] = max;\n    }\n\n    //return in array so channel number counts still work.\n    return [peaks];\n}\n\n/**\n* @param {AudioBuffer,TypedArray} source - Source of audio samples for peak calculations.\n* @param {Number} samplesPerPixel - Number of audio samples per peak.\n* @param {Number} cueIn - index in channel to start peak calculations from.\n* @param {Number} cueOut - index in channel to end peak calculations from (non-inclusive).\n*/\nmodule.exports = function(source, samplesPerPixel, isMono, cueIn, cueOut, bits) {\n    samplesPerPixel = samplesPerPixel || 10000;\n    bits = bits || 8;\n    \n    if (isMono === null || isMono === undefined) {\n        isMono = true;\n    }\n\n    if ([8, 16, 32].indexOf(bits) < 0) {\n        throw new Error(\"Invalid number of bits specified for peaks.\");\n    }\n\n    var numChan = source.numberOfChannels;\n    var peaks = [];\n    var c;\n    var numPeaks;\n    var channel;\n    var slice;\n\n    if (typeof source.subarray === \"undefined\") {\n        for (c = 0; c < numChan; c++) {\n            channel = source.getChannelData(c);\n            cueIn = cueIn || 0;\n            cueOut = cueOut || channel.length;\n            slice = channel.subarray(cueIn, cueOut);\n            peaks.push(extractPeaks(slice, samplesPerPixel, bits));\n        }\n    }\n    else {\n        cueIn = cueIn || 0;\n        cueOut = cueOut || source.length;\n        peaks.push(extractPeaks(source.subarray(cueIn, cueOut), samplesPerPixel, bits));\n    }\n\n    if (isMono && peaks.length > 1) {\n        peaks = makeMono(peaks, bits);\n    }\n\n    numPeaks = peaks[0].length / 2;\n\n    return {\n        length: numPeaks,\n        data: peaks,\n        bits: bits\n    };\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/webaudio-peaks/index.js\n// module id = 50\n// module chunks = 0","\r\nclass CanvasHook {\r\n  constructor(peaks, offset, bits, color) {\r\n    this.peaks = peaks;\r\n    this.offset = offset;\r\n    this.color = color;\r\n    this.bits = bits;\r\n  }\r\n\r\n  static drawFrame(cc, h2, x, minPeak, maxPeak) {\r\n    const min = Math.abs(minPeak * h2);\r\n    const max = Math.abs(maxPeak * h2);\r\n    // draw max\r\n    cc.fillRect(x, 0, 1, h2 - max);\r\n    // draw min\r\n    cc.fillRect(x, h2 + min, 1, h2 - min);\r\n  }\r\n\r\n  hook(canvas, prop, prev) {\r\n    // canvas is up to date\r\n    if (prev !== undefined &&\r\n      (prev.peaks === this.peaks)) {\r\n      return;\r\n    }\r\n\r\n    const len = canvas.width;\r\n    const cc = canvas.getContext('2d');\r\n    const h2 = canvas.height / 2;\r\n    const maxValue = 2 ** (this.bits - 1);\r\n    cc.clearRect(0, 0, canvas.width, canvas.height);\r\n    cc.fillStyle = this.color;\r\n    for (let i = 0; i < len; i += 1) {\r\n      const minPeak = this.peaks[(i + this.offset) * 2] / maxValue;\r\n      const maxPeak = this.peaks[((i + this.offset) * 2) + 1] / maxValue;\r\n      CanvasHook.drawFrame(cc, h2, i, minPeak, maxPeak);\r\n    }\r\n  }\r\n}\r\n\r\nexport default CanvasHook;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/CanvasHook.js","export default class {\r\n\r\n  constructor(ac, buffer) {\r\n    this.ac = ac;\r\n    this.gain = 1;\r\n    this.buffer = buffer;\r\n    this.destination = this.ac.destination;\r\n    this.bol = false;\r\n  }\r\n\r\n  isPlaying() {\r\n    return this.source !== undefined;\r\n  }\r\n\r\n  getDuration() {\r\n    return this.buffer.duration;\r\n  }\r\n\r\n  setAudioContext(audioContext) {\r\n    this.ac = audioContext;\r\n    this.destination = this.ac.destination;\r\n  }\r\n\r\n  setUpSource() {\r\n    this.source = this.ac.createBufferSource();\r\n    this.source.buffer = this.buffer;\r\n\r\n    const sourcePromise = new Promise((resolve) => {\r\n      // keep track of the buffer state.\r\n      this.source.onended = () => {\r\n        this.source.disconnect();\r\n        this.fadeGain.disconnect();\r\n        this.volumeGain.disconnect();\r\n        this.shouldPlayGain.disconnect();\r\n        this.masterGain.disconnect();\r\n\r\n\r\n        this.source = undefined;\r\n        this.fadeGain = undefined;\r\n        this.volumeGain = undefined;\r\n        this.shouldPlayGain = undefined;\r\n        this.masterGain = undefined;\r\n\r\n        resolve();\r\n      };\r\n    });\r\n\r\n    this.fadeGain = this.ac.createGain();\r\n    // used for track volume slider\r\n    this.volumeGain = this.ac.createGain();\r\n    // used for solo/mute\r\n    this.shouldPlayGain = this.ac.createGain();\r\n    this.masterGain = this.ac.createGain();\r\n\r\n    this.source.connect(this.fadeGain);\r\n    this.fadeGain.connect(this.volumeGain);\r\n    this.volumeGain.connect(this.shouldPlayGain);\r\n    this.shouldPlayGain.connect(this.masterGain);\r\n    this.masterGain.connect(this.destination);\r\n\r\n    return sourcePromise;\r\n  }\r\n\r\n  setVolumeGainLevel(level) {\r\n    if (this.volumeGain) {\r\n      this.volumeGain.gain.value = level;\r\n    }\r\n  }\r\n\r\n  setShouldPlay(bool) {\r\n    if (this.shouldPlayGain) {\r\n      this.shouldPlayGain.gain.value = bool ? 1 : 0;\r\n    }\r\n  }\r\n\r\n  setMasterGainLevel(level) {\r\n    if (this.masterGain) {\r\n      this.masterGain.gain.value = level;\r\n    }\r\n  }\r\n\r\n  // whens:延时 offset 片段内部偏移量 duration 持续时间\r\n  // when：当前时间轴 start：开始时间 duration：持续时间 track：音频信息\r\n  play(when, start, duration, track) {\r\n    const onseTime = track.startTime;\r\n    const playTime = when + onseTime;\r\n    const offset = start - onseTime <= 0 ? 0 : start - onseTime;\r\n    const whens = playTime - start <= 0 ? 0 : playTime - start;\r\n    this.source.start(whens, offset, duration);\r\n  }\r\n\r\n  stop(track, now, when = 0) {\r\n    if (this.source) {\r\n      this.source.stop(when);\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Playout.js","import { secondsToPixels } from '../utils/conversions';\r\n\r\nclass PlayedHook {\r\n  constructor(seconds, samplesPerPixel, sampleRate, duration) {\r\n    this.seconds = seconds;\r\n    this.samplesPerPixel = samplesPerPixel;\r\n    this.sampleRate = sampleRate;\r\n    this.duration = duration;\r\n\r\n    this.oDiv0 = document.getElementById('container');\r\n    this.oDiv1 = document.getElementById('waveBack');\r\n    this.oDiv2 = document.getElementById('wavePointer');\r\n    this.oDiv3 = document.getElementById('played');\r\n  }\r\n  render() {\r\n    const widthX = secondsToPixels(this.seconds, this.samplesPerPixel, this.sampleRate);\r\n    const allWidth = secondsToPixels(this.duration, this.samplesPerPixel, this.sampleRate);\r\n    const playedWid = widthX / allWidth;\r\n    this.oDiv0.scrollLeft = `${widthX - 400}`;\r\n    this.oDiv1.style.width = `${widthX}px`;\r\n    this.oDiv2.style.left = `${widthX}px`;\r\n    this.oDiv3.style.width = `${playedWid * 100}%`;\r\n  }\r\n}\r\nexport default PlayedHook;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/PlayedHook.js","import { secondsToPixels } from '../utils/conversions';\r\n\r\nclass FragHook {\r\n  constructor(fragDom, formArr, samplesPerPixel, sampleRate) {\r\n    this.formArr = formArr;\r\n    this.samplesPerPixel = samplesPerPixel;\r\n    this.sampleRate = sampleRate;\r\n    this.fragDom = fragDom;\r\n    this.smallNav = document.getElementById('navList');\r\n  }\r\n  creatDom(frag, index) {\r\n    const start = Math.min(frag.start, frag.end);\r\n    const end = Math.max(frag.start, frag.end);\r\n    const left = secondsToPixels(start, this.samplesPerPixel, this.sampleRate);\r\n    const width = secondsToPixels(end, this.samplesPerPixel, this.sampleRate) - left;\r\n    let state = '';\r\n    if (frag.extend.qualityState === '0') {\r\n      state = 'fragGreen';\r\n    } else if (frag.extend.qualityState === '1') {\r\n      state = 'fragRed';\r\n    }\r\n    const dom = `<div class=\"frag ${state}\" style='left:${left}px;width:${width}px' name=${index}></div>`;\r\n    return dom;\r\n  }\r\n  creatNav(frag, index) {\r\n    let className = 'btn';\r\n    if (frag.extend.qualityState === '0') {\r\n    className += ' green';\r\n    } else if (frag.extend.qualityState === '1') {\r\n      className += ' red';\r\n    }\r\n    const dom = `<li class=\"${className}\" name=\"${index}\">${index}</li>`;\r\n    return dom;\r\n  }\r\n  renderAdd(frag, index) {\r\n    const dom = this.creatDom(frag, index);\r\n    const nav = this.creatNav(frag, index);\r\n    this.fragDom.innerHTML += dom;\r\n    this.smallNav.innerHTML += nav;\r\n  }\r\n  render() {\r\n    let domAll = '';\r\n    let domNav = '';\r\n    this.formArr.forEach((item, index) => {\r\n      domAll += this.creatDom(item, index);\r\n      domNav += this.creatNav(item, index);\r\n    });\r\n    this.fragDom.innerHTML = domAll;\r\n    this.smallNav.innerHTML = domNav;\r\n  }\r\n}\r\nexport default FragHook;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/FragHook.js","import { secondsToPixels } from '../utils/conversions';\r\n\r\nclass FromHook {\r\n  constructor(typeArr, formInfo, samplesPerPixel, sampleRate, ee, markInfo = {}) {\r\n    this.typeArr = typeArr;\r\n    this.formInfo = formInfo;\r\n    this.markInfo = markInfo;\r\n    this.samplesPerPixel = samplesPerPixel;\r\n    this.sampleRate = sampleRate;\r\n    this.ee = ee;\r\n\r\n\r\n    this.formDom = document.getElementById('formInfo');\r\n  }\r\n  renderInput(item, typeInfo) {\r\n    const checkValue = item.extend[typeInfo.sort] || '';\r\n    const inputDom = `<div class=\"form-content\"><p>${typeInfo.title}:</p><input type=\"text\" value=\"${checkValue}\" class=\"formValue\" name=\"${typeInfo.sort}\"></div>`;\r\n    return inputDom;\r\n  }\r\n  renderCheckbox(item, typeInfo, index) {\r\n    let listDom = '';\r\n    let checkValue = item.extend[typeInfo.sort] || [];\r\n    if (typeof checkValue === 'string') {\r\n      checkValue = checkValue.split(',');\r\n    }\r\n    typeInfo.option.forEach((name, indexT) => {\r\n      let checked = '';\r\n      checkValue.forEach((check) => {\r\n        if (check === `${indexT}`) {\r\n          checked = 'checked';\r\n        }\r\n      });\r\n      listDom += `<li>\r\n                    <input type=\"checkbox\" name=\"checkbox-${index}\" value='${indexT}' ${checked}>\r\n                    <label>${name}</label>\r\n                  </li>\r\n                `;\r\n    });\r\n    const checkboxDom = `<div class=\"form-content\" ><p>${typeInfo.title}:</p> \r\n                          <ul class=\"cd-form-list formValue\" name=\"${typeInfo.sort}\" type=\"checkbox\">\r\n                            ${listDom}\r\n                          </ul>\r\n                        </div>`;\r\n    return checkboxDom;\r\n  }\r\n  renderRadio(item, typeInfo, index) {\r\n    let listDom = '';\r\n    const checkValue = item.extend[typeInfo.sort] || '';\r\n    typeInfo.option.forEach((name, indexT) => {\r\n      const checked = checkValue === `${indexT}` ? 'checked' : '';\r\n      listDom += `<li>\r\n                    <input type=\"radio\" name=\"radio-${index}\" value=\"${indexT}\" ${checked}>\r\n                    <label>${name}</label>\r\n                  </li>\r\n                `;\r\n    });\r\n    const radioDom = `<div class=\"form-content\" name=\"${typeInfo.sort}\"><p>${typeInfo.title}:</p>\r\n                          <ul class=\"cd-form-list formValue\" type=\"radio\" name=\"${typeInfo.sort}\">\r\n                            ${listDom}\r\n                          </ul>\r\n                        </div>`;\r\n    return radioDom;\r\n  }\r\n  renderSelect(item, typeInfo) {\r\n    let listDom = '';\r\n    const checkValue = item.extend[typeInfo.sort] || '';\r\n    typeInfo.option.forEach((name, indexT) => {\r\n      const checked = checkValue === `${indexT}` ? 'selected' : '';\r\n      listDom += `<option value=${indexT} ${checked}>${name}</option>`;\r\n    });\r\n    const selectDom = `<div class=\"form-content\"><p>${typeInfo.title}:</p>\r\n                          <p class=\"cd-select icon\">\r\n                            <select class=\"formValue\" name=\"${typeInfo.sort}\">\r\n                             ${listDom}\r\n                            </select>\r\n                         </p>\r\n                      </div>`;\r\n    return selectDom;\r\n  }\r\n  qualityRender(formItem, errorInfo, index) {\r\n    const qualityType = { type: 'radio', sort: 'qualityState', title: 'State', option: ['合格', '不合格'] };\r\n    const errorType = { type: 'input', sort: 'errorsMessage', title: 'ErrMessage'};\r\n    let qualityState = this.renderRadio(formItem, qualityType, `qualityState${index}`);\r\n    let errorsState = this.renderCheckbox(formItem, errorInfo, `errorsState${index}`);\r\n    let errorsMessage = this.renderInput(formItem, errorType, `errorsMessage${index}`);\r\n    if (this.markInfo.operationCase == 2 || this.markInfo.operationCase == 1) {\r\n      let checkValue = formItem.extend.errorInfo || '';\r\n      let errorValue = '';\r\n      if (typeof checkValue === 'string') {\r\n        checkValue = checkValue.split(',');\r\n      }\r\n      checkValue.forEach((item) => {\r\n        errorValue += `${errorInfo.option[item] || ''},`;\r\n      });\r\n      const errorMes = formItem.extend.errorsMessage || '';\r\n      qualityState = `<div><p>状态:</p><span>${qualityType.option[formItem.extend.qualityState] || ''}</span></div>`;\r\n      errorsState = `<div><p>错误信息:</p><span>${errorValue}</span></div>`;\r\n      errorsMessage = `<div><p>错误信息:</p><span>${errorMes}</span></div>`;\r\n    }\r\n    const qualityDom = `<div class=\"quality-content\">\r\n                          ${qualityState}\r\n                          ${errorsState}\r\n                          ${errorsMessage}\r\n                        </div>`;\r\n    return qualityDom;\r\n  }\r\n  creatDom(formItem, index) {\r\n    const errorInfo = { type: 'checkbox', sort: 'errorInfo', title: 'errorInfo', option: ['错误1', '错误2', '错误3'] };\r\n    const left = secondsToPixels(formItem.start, this.samplesPerPixel, this.sampleRate);\r\n    let formContent = '';\r\n    const qualityDom =  this.qualityRender(formItem, errorInfo, index);\r\n    this.typeArr.forEach((typeItem) => {\r\n      switch (typeItem.type) {\r\n        case 'input':\r\n          formContent += this.renderInput(formItem, typeItem);\r\n          break;\r\n        case 'checkbox':\r\n          formContent += this.renderCheckbox(formItem, typeItem, index);\r\n          break;\r\n        case 'radio':\r\n          formContent += this.renderRadio(formItem, typeItem, index);\r\n          break;\r\n        case 'select':\r\n          formContent += this.renderSelect(formItem, typeItem);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    });\r\n    return `<div class=\"form-group\" style=\"left:${left}px\" name=\"${index}\">\r\n            <div class=\"form-title\"><h1>${index}</h1><h2 name=\"close\">X</h2></div>\r\n            ${formContent}\r\n            ${qualityDom}\r\n            </div>`;\r\n  }\r\n  renderAdd(form) {\r\n    this.formInfo = form;\r\n    this.render();\r\n    // let formContent = '';\r\n    // this.formInfo.forEach((formItem, index) => {\r\n    //   formContent += this.creatDom(formItem, index);\r\n    // });\r\n    // formContent += this.creatDom(form, indexs);\r\n    // this.formDom.innerHTML = formContent;\r\n  }\r\n  render() {\r\n    let formContent = '';\r\n    this.formInfo.forEach((formItem, index) => {\r\n      formContent += this.creatDom(formItem, index);\r\n    });\r\n    this.formDom.innerHTML = '';\r\n    this.formDom.innerHTML = formContent;\r\n  }\r\n}\r\n\r\nexport default FromHook;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/FormHook.js","import { pixelsToSeconds, secondsToPixels } from '../../utils/conversions';\r\n\r\nclass FragController {\r\n  constructor(ee, fragId, formInfo, samplesPerPixel, sampleRate) {\r\n    this.ee = ee;\r\n    this.fragId = fragId;\r\n    this.formInfo = formInfo;\r\n    this.samplesPerPixel = samplesPerPixel;\r\n    this.sampleRate = sampleRate;\r\n    this.shortFrag = document.getElementById('shortFrag');\r\n\r\n    this.downPoint = null;\r\n    this.creatDom = false;\r\n    this.selected = false;\r\n    this.hitPoint = false;\r\n    this.changeFrag = null;\r\n  }\r\n  setSamples(samplesPerPixel, sampleRate) {\r\n    this.samplesPerPixel = samplesPerPixel;\r\n    this.sampleRate = sampleRate;\r\n  }\r\n  setAllTime(allTime) {\r\n    this.allTime = allTime;\r\n  }\r\n  setForminfo(formInfo) {\r\n    this.formInfo = formInfo;\r\n  }\r\n  setSelected(selected) {\r\n    this.selected = selected;\r\n  }\r\n  bindEvent() {\r\n    // oncontextmenu\r\n    this.fragId.addEventListener('contextmenu', (e) => {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n      this.rightEvent(e);\r\n    });\r\n    this.fragId.addEventListener('mousedown', (e) => {\r\n      // 选中状态\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n      if (e.which === 1) {\r\n        if (this.selected) {\r\n          this.downRightEvent(e);\r\n          return;\r\n        }\r\n        this.downEvent(e);\r\n      }\r\n    });\r\n    this.fragId.addEventListener('mousemove', (e) => {\r\n      // 选中状态\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n      if (this.selected) {\r\n        this.moveRightEvent(e);\r\n        return;\r\n      }\r\n      if (this.downPoint) {\r\n        this.moveEvent(e);\r\n      }\r\n    });\r\n    this.fragId.addEventListener('mouseup', (e) => {\r\n      // 选中状态\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n      if (e.which === 3) { return; }\r\n      if (this.selected) {\r\n        this.upRightEvent();\r\n        return;\r\n      }\r\n      if (this.creatDom) {\r\n        this.upEventCreat(e);\r\n      } else {\r\n        this.upEventPlay(e);\r\n      }\r\n      this.shortFrag.style.display = 'none';\r\n      this.downPoint = null;\r\n      this.creatDom = false;\r\n    });\r\n    this.fragId.addEventListener('mouseleave', (e) => {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n      if (e.which === 3) { return; }\r\n      // if (this.selected) {\r\n      //   this.upRightEvent();\r\n      //   return;\r\n      // }\r\n      if (this.creatDom) {\r\n        this.upEventCreat(e);\r\n      }\r\n      this.shortFrag.style.display = 'none';\r\n      this.downPoint = null;\r\n      this.creatDom = false;\r\n    });\r\n  }\r\n  getAttrName(e) {\r\n    const name = e.target.getAttribute('name');\r\n    return name;\r\n  }\r\n  setClassName(e) {\r\n    this.clearClassName();\r\n    e.target.className = `${e.target.className} fragSelected`;\r\n  }\r\n  clearClassName() {\r\n    const frag = document.getElementsByClassName('frag');\r\n    for (let i = 0; i < frag.length; i++) {\r\n      frag[i].className = frag[i].className.replace('fragSelected');\r\n    }\r\n  }\r\n  getMouseLeft(e) {\r\n    const canvasLeft = this.fragId.getBoundingClientRect().left;\r\n    const mouseLeft = e.clientX;\r\n    const playWidth = mouseLeft - parseFloat(canvasLeft);\r\n    return playWidth;\r\n  }\r\n  getHitPoint(e) {\r\n    const canvasLeft = this.fragId.getBoundingClientRect().left;\r\n    const selected = this.formInfo[this.selected];\r\n    const mouseLeft = pixelsToSeconds(e.clientX - parseFloat(canvasLeft), this.samplesPerPixel, this.sampleRate);\r\n    let pointSlected = false;\r\n    if (selected.end - 0.1 < mouseLeft && selected.end + 0.1 > mouseLeft) {\r\n      pointSlected = 'end';\r\n    } else if (selected.start - 0.1 < mouseLeft && selected.start + 0.1 > mouseLeft) {\r\n      pointSlected = 'start';\r\n    }\r\n    return pointSlected;\r\n  }\r\n  setShortFrag(playWidth) {\r\n    const left = Math.min(playWidth, this.downPoint);\r\n    const right = Math.max(playWidth, this.downPoint);\r\n    const width = right - left;\r\n    this.shortFrag.style.display = 'block';\r\n    this.shortFrag.style.left = `${left}px`;\r\n    this.shortFrag.style.width = `${width}px`;\r\n  }\r\n  pointStart(Point, out) {\r\n    let setUp = true;\r\n    const points = pixelsToSeconds(Point, this.samplesPerPixel, this.sampleRate);\r\n    this.formInfo.forEach((item, index) => {\r\n      if ((points > item.start && points < item.end) && parseInt(out) !== index) {\r\n        setUp = false;\r\n      }\r\n      if (points <= 0 || points > this.allTime) {\r\n        setUp = false;\r\n      }\r\n    });\r\n    return setUp;\r\n  }\r\n  pointEnd(Point) {\r\n    const point1 = pixelsToSeconds(this.downPoint, this.samplesPerPixel, this.sampleRate);\r\n    let point2 = pixelsToSeconds(Point, this.samplesPerPixel, this.sampleRate);\r\n    this.formInfo.forEach((item) => {\r\n      if (point1 < point2 && point1 < item.start && point2 >= item.start) {\r\n        point2 = item.start;\r\n      } else if (point1 > point2 && point1 > item.end && point2 <= item.end) {\r\n        point2 = item.end;\r\n      }\r\n    });\r\n    return secondsToPixels(point2, this.samplesPerPixel, this.sampleRate);\r\n  }\r\n  downEvent(e) {\r\n    const playWidth = this.getMouseLeft(e);\r\n    if (this.pointStart(playWidth)) {\r\n      this.downPoint = playWidth;\r\n    }\r\n  }\r\n  moveEvent(e) {\r\n    const upPoint = this.pointEnd(this.getMouseLeft(e));\r\n    const moveWidth = upPoint - this.downPoint;\r\n    if (moveWidth > 5 || moveWidth < -5) {\r\n      this.setShortFrag(upPoint);\r\n      this.creatDom = true;\r\n    }\r\n  }\r\n  upEventPlay(e) {\r\n    const name = this.getAttrName(e);\r\n    this.downPoint = null;\r\n    if (name === 'waveFrag') {\r\n      const upPoint = this.getMouseLeft(e);\r\n      const start = pixelsToSeconds(upPoint, this.samplesPerPixel, this.sampleRate);\r\n      this.ee.emit('play', start);\r\n    } else {\r\n      this.ee.emit('selectdFrag', name);\r\n      this.ee.emit('playFrag', name);\r\n    }\r\n  }\r\n  upEventCreat(e) {\r\n    const upPoint = this.pointEnd(this.getMouseLeft(e));\r\n    const start = Math.min(upPoint, this.downPoint);\r\n    const end = Math.max(upPoint, this.downPoint);\r\n    const frag = {\r\n      start: pixelsToSeconds(start, this.samplesPerPixel, this.sampleRate),\r\n      end: pixelsToSeconds(end, this.samplesPerPixel, this.sampleRate),\r\n      title: '',\r\n      extend: {},\r\n    };\r\n    this.formInfo.push(this.checkedFrag(frag, -1));\r\n    this.ee.emit('addFrag', this.formInfo);\r\n  }\r\n\r\n  rightEvent(e) {\r\n    const name = this.getAttrName(e);\r\n    if (name !== 'waveFrag') {\r\n      this.selected = name;\r\n      this.setClassName(e);\r\n      this.ee.emit('selectdFrag', name);\r\n      this.ee.emit('pause');\r\n    }\r\n  }\r\n  downRightEvent(e) {\r\n    const name = this.getAttrName(e);\r\n    this.hitPoint = this.getHitPoint(e);\r\n    this.movePoint = e.clientX;\r\n    if (name === this.selected || this.hitPoint) {\r\n      // this.selected = name;\r\n      // console.log(this.hitPoint);\r\n    } else {\r\n      this.selected = null;\r\n      this.clearClassName();\r\n    }\r\n  }\r\n  moveRightEvent(e) {\r\n    const selectedDom = document.getElementsByClassName('fragSelected')[0];\r\n    if (!selectedDom) { return; }\r\n    let left;\r\n    let width;\r\n    if (this.getHitPoint(e)) {\r\n      selectedDom.style.cursor = 'w-resize';\r\n    } else {\r\n      selectedDom.style.cursor = 'move';\r\n    }\r\n    if (this.movePoint) {\r\n      if (this.hitPoint) {\r\n        if (this.hitPoint === 'end') {\r\n          left = window.parseFloat(selectedDom.style.left);\r\n          width = window.parseFloat(selectedDom.style.width) + e.movementX;\r\n        } else if (this.hitPoint === 'start') {\r\n          left = window.parseFloat(selectedDom.style.left) + e.movementX;\r\n          width = window.parseFloat(selectedDom.style.width) - e.movementX;\r\n        }\r\n      } else {\r\n        left = window.parseFloat(selectedDom.style.left) + e.movementX;\r\n        width = window.parseFloat(selectedDom.style.width);\r\n      }\r\n    }\r\n    if (this.pointStart(left, this.selected) && this.pointStart(left + width, this.selected)) {\r\n      selectedDom.style.left = `${left}px`;\r\n      selectedDom.style.width = `${width}px`;\r\n    }\r\n    const starts = pixelsToSeconds(left, this.samplesPerPixel, this.sampleRate);\r\n    const ends = pixelsToSeconds(left + width, this.samplesPerPixel, this.sampleRate);\r\n    const index = selectedDom.getAttribute('name');\r\n    const newPoint = e.target.getAttribute('name');\r\n    if (index !== newPoint && newPoint !== 'waveFrag') {\r\n      this.upRightEvent();\r\n      return;\r\n    }\r\n    this.changeFrag = { start: starts, end: ends, title: this.formInfo[index].title, extend: this.formInfo[index].extend };\r\n  }\r\n  upRightEvent() {\r\n    if (this.changeFrag && !isNaN(this.changeFrag.start)) {\r\n      const frag = this.checkedFrag(this.changeFrag, this.selected);\r\n      this.ee.emit('changeFrag', frag, this.selected);\r\n      this.formInfo[this.selected] = this.changeFrag;\r\n    }\r\n    this.movePoint = false;\r\n    this.hitPoint = false;\r\n  }\r\n  checkedFrag(frag, name) {\r\n    this.formInfo.forEach((item, index) => {\r\n      const itemStart = item.start;\r\n      const itemEnd = item.end;\r\n      if (frag.start > itemStart && frag.start < itemEnd && index !== parseInt(name)) {\r\n        frag.start = itemEnd;\r\n      }\r\n      if (frag.end > itemStart && frag.end < itemEnd && index !== parseInt(name)) {\r\n        frag.end = itemStart;\r\n      }\r\n    });\r\n    return frag;\r\n  }\r\n}\r\n\r\nexport default FragController;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/track/controller/FragController.js","class FormController {\r\n  constructor(ee, formInfo, markInfo) {\r\n    this.formInfo = formInfo;\r\n    this.markInfo = markInfo;\r\n    this.ee = ee;\r\n    this.formDom = document.getElementById('formInfo');\r\n    this.selected = 0;\r\n    this.smallNav = document.getElementById('navList');\r\n  }\r\n  setForminfo(formInfo) {\r\n    this.formInfo = formInfo;\r\n  }\r\n  getIndex(target) {\r\n    if (target.className === 'form-group' || target.className === 'form-group form-selected') {\r\n      return target;\r\n    } else {\r\n      return this.getIndex(target.offsetParent);\r\n    }\r\n  }\r\n  getValue(formDom) {\r\n    if (!formDom) {\r\n      return;\r\n    }\r\n    const type = formDom.type;\r\n    let values = '';\r\n    const name = formDom.getAttribute('name');\r\n    switch (type) {\r\n      case 'text':\r\n        values = formDom.value;\r\n        break;\r\n      case 'select-one':\r\n        values = formDom.options[formDom.selectedIndex].value;\r\n        break;\r\n      case 'checkbox':\r\n        const checkboxList = formDom.getElementsByTagName('input');\r\n        for (const x in checkboxList) {\r\n          if (checkboxList[x].checked) {\r\n            values += `${checkboxList[x].value},`;\r\n          }\r\n        }\r\n        break;\r\n      case 'radio':\r\n        const radioList = formDom.getElementsByTagName('input');\r\n        for (const x in radioList) {\r\n          if (radioList[x].checked) {\r\n            values = radioList[x].value;\r\n          }\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return [name, values];\r\n  }\r\n  setClassName(index) {\r\n    this.clearClassName();\r\n    document.getElementById('wrap')\r\n    .getElementsByClassName('form-group')[index].className = 'form-group form-selected';\r\n    this.formDom.getElementsByClassName('form-selected')[0].onmouseleave = () => {\r\n      this.addFormInfo();\r\n      this.ee.emit('save', this.formInfo);\r\n    };\r\n  }\r\n  addFormInfo() {\r\n    const formSlected = this.formDom.getElementsByClassName('form-selected')[0];\r\n    if (!formSlected) {\r\n      return;\r\n    }\r\n    const name = formSlected.getAttribute('name');\r\n    const listDom = formSlected.getElementsByClassName('form-content');\r\n    this.formInfo[name].extend.formValue = [];\r\n    for (let i = 0; i < listDom.length; i++) {\r\n      const formValue = this.getValue(listDom[i].getElementsByClassName('formValue')[0]);\r\n      this.formInfo[name].extend[formValue[0]] = formValue[1];\r\n    }\r\n  }\r\n  clearClassName() {\r\n    const frag = document.getElementsByClassName('form-group');\r\n    for (let i = 0; i < frag.length; i++) {\r\n      frag[i].className = 'form-group';\r\n    }\r\n  }\r\n  bindEvent() {\r\n    this.formDom.addEventListener('click', (e) => {\r\n      const name = e.target.getAttribute('name') || '';\r\n      const group = this.getIndex(e.target);\r\n      const index = group.getAttribute('name');\r\n      this.setClassName(index);\r\n      if (name === 'close' && this.selected === index) {\r\n        this.ee.emit('deleteFrag', index);\r\n      }\r\n      if (name.indexOf('qualityState') >= 0) {\r\n        const errorsState = document.getElementsByClassName('quality-content')[index].getElementsByClassName('form-content')[1];\r\n        const fragDom = document.getElementsByClassName('frag');\r\n        if (e.target.getAttribute('value') === '0') {\r\n          errorsState.style.display = 'none';\r\n          fragDom[index].className = 'frag fragGreen';\r\n          this.smallNav.getElementsByTagName('li')[index].className = 'btn green';\r\n        } else if (e.target.getAttribute('value') === '1') {\r\n          errorsState.style.display = 'block';\r\n          fragDom[index].className = 'frag fragRed';\r\n          this.smallNav.getElementsByTagName('li')[index].className = 'btn red';\r\n          for (let i = 0; i < errorsState.getElementsByTagName('input').length; i++) {\r\n            errorsState.getElementsByTagName('input')[i].checked = false;\r\n          }\r\n        }\r\n      }\r\n      this.selected = index;\r\n    });\r\n    this.formDom.onkeydown = (e) => {\r\n      switch (e.keyCode) {\r\n        case 32:\r\n          console.log(111);\r\n          e.stopPropagation();\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    };\r\n    // this.formDom.addEventListener('mouseleave', (e) => {\r\n    //   console.log(e.target);\r\n    //   // console.log(111)\r\n    //   this.addFormInfo();\r\n    //   this.ee.emit('save', this.formInfo);\r\n    // });\r\n    this.smallNav.addEventListener('click', (e) => {\r\n      const name = e.target.getAttribute('name') || '';\r\n      this.ee.emit('selectdFrag', name);\r\n      this.ee.emit('playFrag', name);\r\n    });\r\n  }\r\n}\r\n\r\nexport default FormController;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/track/controller/FormController.js","class OtherController {\r\n  constructor(ee) {\r\n    this.ee = ee;\r\n    this.smallNav = document.getElementById('smallNav');\r\n    this.navList = document.getElementById('navList');\r\n  }\r\n  bindEvent() {\r\n    const next = this.smallNav.getElementsByClassName('btn')[0];\r\n    const pre = this.smallNav.getElementsByClassName('btn')[1];\r\n    pre.addEventListener('click', (e) => {\r\n      e.stopPropagation();\r\n      this.navList.style.left = `${parseInt(this.navList.style.left || 0) - 90}%`;\r\n    });\r\n    next.addEventListener('click', (e) => {\r\n      e.stopPropagation();\r\n      const left = parseInt(this.navList.style.left) || 0;\r\n      if (left >= -90) {\r\n        this.navList.style.left = '0%';\r\n      } else {\r\n        this.navList.style.left = `${left + 90}%`;\r\n      }\r\n    });\r\n  }\r\n}\r\nexport default OtherController;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/track/controller/OtherController.js","import XHRLoader from './XHRLoader';\r\n\r\nexport default class {\r\n  static createLoader(src, audioContext, ee) {\r\n    if (typeof (src) === 'string') {\r\n      return new XHRLoader(src, audioContext, ee);\r\n    }\r\n\r\n    throw new Error('Unsupported src type');\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/track/loader/LoaderFactory.js","import Loader from './Loader';\r\n\r\nexport default class extends Loader {\r\n\r\n  /**\r\n   * XHR加载\r\n   */\r\n  load() {\r\n    return new Promise((resolve, reject) => {\r\n      const xhr = new XMLHttpRequest();\r\n      xhr.open('GET', this.src, true);\r\n      xhr.responseType = 'arraybuffer';\r\n      xhr.send();\r\n\r\n      xhr.addEventListener('progress', (e) => {\r\n        super.fileProgress(e);\r\n      });\r\n\r\n      xhr.addEventListener('load', (e) => {\r\n        const decoderPromise = super.fileLoad(e);\r\n\r\n        decoderPromise.then((audioBuffer) => {\r\n          resolve(audioBuffer);\r\n        });\r\n      });\r\n\r\n      xhr.addEventListener('error', () => {\r\n        reject(Error(`Track ${this.src} failed to load`));\r\n      });\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/track/loader/XHRLoader.js","import EventEmitter from 'event-emitter';\r\n\r\nexport const STATE_UNINITIALIZED = 0;\r\nexport const STATE_LOADING = 1;\r\nexport const STATE_DECODING = 2;\r\nexport const STATE_FINISHED = 3;\r\n\r\n\r\nexport default class {\r\n  constructor(src, audioContext, ee = EventEmitter()) {\r\n    this.src = src;\r\n    this.ac = audioContext;\r\n    this.audioRequestState = STATE_UNINITIALIZED;\r\n    this.ee = ee;\r\n  }\r\n\r\n  setStateChange(state) {\r\n    this.audioRequestState = state;\r\n    this.ee.emit('audiorequeststatechange', this.audioRequestState, this.src);\r\n  }\r\n\r\n  fileProgress(e) {\r\n    let percentComplete = 0;\r\n\r\n    if (this.audioRequestState === STATE_UNINITIALIZED) {\r\n      this.setStateChange(STATE_LOADING);\r\n    }\r\n\r\n    if (e.lengthComputable) {\r\n      percentComplete = (e.loaded / e.total) * 100;\r\n    }\r\n    this.ee.emit('loadprogress', percentComplete, this.src);\r\n  }\r\n\r\n  fileLoad(e) {\r\n    const audioData = e.target.response || e.target.result;\r\n    this.ee.emit('loadFirst');\r\n    this.setStateChange(STATE_DECODING);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      this.ac.decodeAudioData(\r\n        audioData,\r\n        (audioBuffer) => {\r\n          this.audioBuffer = audioBuffer;\r\n          this.setStateChange(STATE_FINISHED);\r\n\r\n          resolve(audioBuffer);\r\n        },\r\n        (err) => {\r\n          reject(err);\r\n        },\r\n      );\r\n    });\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/track/loader/Loader.js"],"sourceRoot":""}